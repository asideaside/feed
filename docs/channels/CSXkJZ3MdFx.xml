<?xml version="1.0" encoding="utf-8"?><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Dev News</title><link>https://konrad.website/liveboat-github-runner/</link><description></description><item><title>Is the Point Inside the Triangle?</title><link>https://alexsyniakov.com/2025/03/22/is-the-point-inside-the-triangle/</link><author>/u/innochenti</author><category>dev</category><category>reddit</category><pubDate>Sat, 22 Mar 2025 19:39:54 +0000</pubDate><source url="https://www.reddit.com/r/programming/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Programming</source><content:encoded><![CDATA[Today we’re tackling something that seems simple: how do you tell if a point is inside a triangle? I’ve got five things I want to do here:This post will be long, with some detours and extra thoughts. But I think that’s the best way to get tricky stuff. A story keeps it interesting and helps you remember the important bits. So, this won’t just be words – it’ll be a journey with logic and aha moments.Explain the basics simplyWe’ll look at the building blocks and steps to figure out if a point’s in a triangle. Lots of people write about this, but I think they miss stuff or make it too quick. I’ll do it my way.I’ll stick to the ideas that help solve this one question.Even something small like this takes more understanding than you’d guess. I want to show that.This is from a book I’m writing. I’m testing if it works for readers.Just as the world is made up of atoms and molecules, at the heart of any 3D program lies the triangle. So, let’s begin our story with the triangle and explore why it’s so crucial for 3D graphics. Let’s turn to the definition from Wikipedia:A triangle is a figure consisting of three line segments, each of whose endpoints are connected. This forms a polygon with three sides and three angles.Sounds terribly boring, doesn’t it? But don’t let that fool you – triangles are amazing. They’re behind your favorite 3D editor, video game, or big movie. Everything 3D on your screen? It’s all triangles doing the heavy lifting, turned into pixels in the end (they call that rasterization). Here’s a heads-up: I might bend some geometry rules a bit. Serious math folks could get mad, but I think you can explain tricky stuff in a way that clicks faster than slogging through years of math classes.So, let’s begin! We have the concept of a triangle: three points connected by three lines. Now, let’s break our molecule down into atoms.Digression 1: Why the Triangle?Time for a quick side trip (and there’ll be more, trust me) about why triangles are the go-to for 3D graphics, instead of something like a point or a circle.Triangles can fake any shapeEven a circle! Pile up enough triangles, and you can make it look close enough to trick the eye.So, why not pick something else? Your screen’s just a bunch of pixels – tiny dots. Smooth shapes like circles don’t fit that world easily. You’ve got to fake them with something chunkier, like triangles.Triangles are old friendsThe properties of triangles have been well understood since the days of Pythagoras, making them a reliable and mathematically solid choice.Triangles make it easy to figure out things like light, shadows, and textures in graphics, way better than trickier shapes.All the modern graphics gear is built to handle triangles fast and smooth.Side trip done – let’s get back to the atoms of our triangle, the points!A point marks a spot in space, plain and simple. It doesn’t have width, length, or thickness. But when we put it on paper, we make it a big dot anyway.What can we do with points? In other words, what operations can we perform on points?You can technically add their parts x, y, z. But does it make sense? Not at all. So, adding points doesn’t really do much.Can we subtract points? Yes, and it gives us something new – a . You just take one point’s coordinates and subtract the other’s. Say you’ve got two points in 3D,  and . Subtract them, and you get a vector .Let’s take a quick look at vectors before we get back to . A might seem like a at first – same numbers – but it’s not. It’s about and . Take two points,  and . Subtract  – , and you get a vector, , that shows the way from  to . And if you measure that vector’s size – its magnitude, , you’ll get the distance between  and .If we draw the vector  on a coordinate system, starting at  and going to , we get a line that shows its direction.Now, take point  and add vector  to it. What do you get? Point ! So,  it’s like the vector moves you from  to .If we take point  and subtract vector  from it, we end up back at point . So,  That’s how you can shift a point using a vector.Now, if you flip the vector’s sign – make it negative – you get the same , just pointing the other way. For example,   turns into .So, what’s possible with ? We can them or them. No big shock – the result is always another vector. But how do we picture it?To show the between two , think of it as adding one to the opposite of the other: . It’s still a parallelogram, just with  flipped around.Start with vector  at the origin. Then take , reverse it to make , and put it at the end of . Draw the parallelogram using  and  as sides. The diagonal from the origin? That’s .A Simple Trick to Remember Operations Between Points and VectorsWant an easy way to handle points and vectors? Here’s a little trick: add a , w, to the usual x, y, z.For a , it’s (x, y, z, 1) – the w is 1.For a , it’s (x, y, z, 0) – the w is 0.With this, we can sort out all the operations between them. Let’s see how it works.That fourth coordinate, w, has another big role – we’ll get to it later. For now, let’s just keep it in mind as something neat. Going forward, we’ll drop it to keep things simple.Digression 2: Point vs Vector classesIn programming, we usually split things into two classes: and . But honestly, a lot of coders find that annoying. They’d rather treat a point like a – just another starting from the . That way, they can do all the math stuff, like adding or subtracting, without worrying about what’s a point and what’s a vector.Say you’ve got two points,  and , and you want the angle between them from the . You could write it like this:Point O(0, 0, 0);
Vector vA = A-O;
Vector vB = B-O;
double angle = std::acos(dot(vA, vB) / (length(vA) * length(vB)));
But if you just treat  and  as radius vectors, it gets shorter:double angle = std::acos(dot(A, B) / (length(A) * length(B)));
The second way is quicker to write, sure. Still, for us, making sense of things matters more than saving a line or two. Keeping and separate keeps it clear what’s what.Calculating Distance / Vector LengthLet’s tackle the distance between two points again. Take  and . Picture a straight line between them. To measure it, think of the x-difference, , and the y-difference, . Square those, add them up – – and then take the square root. That’s your distance: This works in 3D too. For points  and , the distance is just: . Same idea, one more step.Got a  with a length ? Divide its components  by . That gives you a unit , or a . We call this dividing step . These have a of 1 and point the way, making things simpler to figure out. Why are they big in computer graphics?Normals show how light lands on surfaces – think brightness, shadows, or shiny reflections.They help tricks like Phong shading make lighting look smooth and nice.Reflection and RefractionFor stuff like water or glass, normals handle reflections and bending light.In games, they tell objects how to hit or bounce off each other.Normals fake extra detail in things like normal mapping, no extra shapes needed.So, you’ve picked up the essentials – how to work with points and vectors, and even how to measure a vector’s length. Just a few more steps, and you’ll have this whole thing figured out!What else can we do with vectors? There’s this thing called the  or – that’s super useful in geometry, physics, and graphics. Surprise: it gives you a (or ), not a . It’s all about checking how much two vectors go the same way. Can we figure that out? Sure, here’s how:Put simply, the dot product here just looks at the  of  – how much of it .When one vector’s y-part is zero, like , it’s easy to see, like we showed before. But what if the y-part isn’t zero? Let’s try two vectors:  and . Let’s do something fun: rotate  around so it sits on the x-axis. That zeroes out its y-part, leaving it pointing flat across. We’ll swing  the same way too. Then, we just see how much  lines up with this new .And  gets the same twist, ending up as:.Now it’s simple: we just find the dot product between a vector flat on the x-axis and one with both x and y parts.Since rotating doesn’t change the dot product, we calculate:So in the end, there is another way to calculate the dot product using the formula: The cosine function appears here because it naturally describes alignment:Picture this: you’re in a dark room, holding a laser pointer. You aim it at a wall, but not straight on – it’s at an angle. The light doesn’t just hit one spot; it stretches across the wall. How long that streak is depends on your aim:When the laser is  at the wall, the projection is maximal, meaning the  is . For unit vectors, the result is 1. When the laser is , the projection , resulting in a . When the laser is to the wall, there is no projection at all, and the  equals . When the laser is pointing in the direction from the wall, the  is . For unit vectors, the result is -1.Just a heads-up: we’re deep in dot product territory. It’s a big topic, full of details, but super important. If you get the dot product – really get it, with all its twists – it’ll make everything later so much easier. It’s the heart of all the cool stuff coming up.What if we need to determine the angle  between two vectors? We can  using the inverse cosine function:Think of arccos as a way to convert a similarity measurement into an actual angle:This is extremely useful in applications like robotics, physics, 3D graphics, and AI, where finding angles between directions is crucial. The function always returns an angle in the range from  to  (or from  to  radians).Now, let’s introduce the final operation you’ll frequently encounter: the , also known as the . Intuitively, this operation is simpler than the  because the result is something you can visualize – a new .At this stage, I’d like to ask for your patience – don’t worry about where this formula comes from. Just memorize it for now, and later you’ll “teleport” back to it from another section.The cross product can also be expressed as:where  is the  perpendicular to the plane containing  and .The direction of  (and ) is determined by the : curl the fingers of your right hand from  to , and your thumb will point in the direction of .Finally, let’s conclude our detour and return to our original task – determining whether a point is inside a triangle! At this stage, we have covered the basic geometric primitives: points, vectors, and operations on them. Now, with this knowledge, let’s finally solve our problem.Is the point contained within the triangle? Cross Product MethodThis method’s easy and makes sense, and it pulls together all the math we’ve gone over. For each edge of the triangle, we compute a cross product between the edge vector and the vector from the test point  to one of the triangle’s vertices. That gives us three vectors that act like normals.Each normal  represents the orientation of the test point relative to a specific edge of the triangle.If  is inside the triangle, all three cross-product normals should point in the same direction. If all three dot products have the same sign, then the point lies inside the triangle. Otherwise, at least one normal vector points in the opposite direction, indicating that  is outside.It is very important to note that this method works correctly only when the point lies in the . This condition is often neglected in computer graphics since most algorithms do not require it. However, if you are working with engineering software and require precise calculations, it makes sense to add a check to ensure that the point lies in the triangle’s plane. In practice, such a check is usually performed earlier in the pipeline, calling the point-in-triangle test, as part of collision detection, intersection tests, or geometric preprocessing.bool isPointInsideTriangle(glm::dvec3 P, glm::dvec3 A, glm::dvec3 B, glm::dvec3 C, double epsilon) {
    // Compute the normal of triangle ABC and check if it's degenerate
    glm::dvec3 N = glm::cross(B - A, C - A);

    // Compute normals for sub-triangles PBC, PCA, PAB
    glm::dvec3 U = glm::cross(B - P, C - P);  // Normal of PBC
    glm::dvec3 V = glm::cross(C - P, A - P);  // Normal of PCA
    glm::dvec3 W = glm::cross(A - P, B - P);  // Normal of PAB

    // Compute scalar products of sub-triangle normals with the triangle normal
    double dot_u = glm::dot(U, N);
    double dot_v = glm::dot(V, N);
    double dot_w = glm::dot(W, N);

    return sameSigns(dot_u, dot_v, dot_w, epsilon);
}

The  method can run into trouble because of small math mistakes. These pop up when numbers get rounded off during multiplying and subtracting. It’s a problem when vectors are almost the same, especially in really thin (or as we call it – ) triangles, and the answer might be off. Also, the final check – seeing if all normals point the same way – can mess up. If those normals shift and look almost at right angles because of these tiny errors, the test might call an inside point outside. helps by giving some extra space for those mistakes, making the checks better. You need to pick the right epsilon, though, or you might count outside points as inside or miss points that are barely inside.Digression 3. Vector Operations: Functions vs. OperatorsWhen handling vectors, libraries like offer functions like and for scalar and vector products, instead of using signs like * or %. This has some good points. For one, and make it clear what math you’re doing, so the code’s easier to understand. Take  – it shows right away it’s a dot product. But  could mean different things, like multiplying by a number, doing it part by part, or even a dot product, depending on the setup. Same with  – it’s obvious it’s a cross product, while % isn’t something everyone knows and might remind people of division leftovers instead.Another thing: functions like and make your code safer and easier to keep up. Signs like * can do lots of jobs – like multiplying by a number or working with matrices – which can mix things up if you’re not sure what’s meant or if the pieces don’t fit right. But and are built just for vectors, so you’re less likely to mess up. For instance, if you try with the wrong mix – like a and a plain  – a good library will catch it before the code even runs. With *, it might quietly do something you didn’t want.Digression 4. Degenerate trianglestriangles are bad – they don’t help anyone. They hold no real info. Either all their points sit on top of each other, or they line up straight. So, their is pretty much . To spot these, we can figure out the triangle’s area using the  of its edge vectors and see if it’s tiny – below a small limit, . This way, we catch triangles that barely exist, whether because the points overlap or fall in a line, and kick them out before moving on. Here’s some code that checks if a triangle’s degenerate by looking at its area:bool isDegenerate(glm::dvec3 A, glm::dvec3 B, glm::dvec3 C, double area_epsilon) {
    // Compute vectors along two edges of the triangle
    glm::dvec3 AB = B - A;
    glm::dvec3 AC = C - A;

    // Compute the cross product to get the normal vector
    glm::dvec3 N = glm::cross(AB, AC);

    // Compute the area as half the magnitude of the normal
    double area = 0.5 * glm::length(N);

    // Return true if the area is below the threshold, indicating degeneracy
    return area < area_epsilon;
}
So, we need to put this check at the beginning of our isPointInsideTriangle method. Next, we would like to address the problem mentioned at the beginning – we want to check if the point lies in the plane of the triangle.A plane in 3D is like a big, flat sheet that goes on forever, set by a point and a normal vector. And guess what? The  – or , as we call it now – saves the day again, tying all this geometry into a simple idea. Imagine a plane with a  and a , which stands straight up from the plane, at right angles to anything on it.struct Plane {
    glm::dvec3 N;  // A,B,C
    double D;
};
To check if a point  lies on the plane, we evaluate:If the result 0 (within a small tolerance), the point lies exactly on the plane.If , the point is above the plane.If , the point is below the plane.bool isOnPlane(Plane plane, glm::dvec3 P, double epsilon) {
    return std::abs(glm::dot(plane.N, P) + plane.D) <= epsilon;
}
To make a with a and a  vector, start with the plane equation. Plug in your point  to figure out the constant .Plane createPlane(glm::dvec3 P, glm::dvec3 N) {
    N = glm::normalize(N);
    double D = -glm::dot(N, P);
    return { N, D };
}
If you need to see if the point’s on the triangle’s plane, add this step after ruling out a bad triangle. Think we’re done? Not even close. The method we went over is simple and pretty quick, but it’s got some weak spots, like we said before. Next, we’ll check out other ways to do this, and for that, we’ll need to dig even more into geometry basics.Digression 6. Can you compute a cross product in 2D?No, you cannot compute a  in a strictly two-dimensional space in the same way as in 3D – because the result is not a vector in 2D. However, if we extend the 2D vectors into 3D by assuming their -coordinates are zero and use the standard 3D cross product formula:and set the -coordinates to zero, treating 2D vectors as lying in the -plane of 3D space, we obtain:Since the only nonzero component is the -coordinate, we can define the 2D cross product as the scalar:This scalar represents the signed area of the parallelogram formed by  and .Thus, the signed area can be used to determine whether a 2D point is inside a 2D triangle. To do this, you need to compute the signed area of the triangle ABC and all the “sub-triangles” ABP, BCP, and CAP. If all the areas have the same sign, then the point lies inside the triangle.bool isPointInsideTriangle(glm::dvec2 P, glm::dvec2 A, glm::dvec2 B, glm::dvec2 C, double area_epsilon) {
    // Compute the area of the triangle
    double triangleArea = area(A, B, C);

    // Check if the triangle is degenerate (area too small)
    if (std::abs(triangleArea) < area_epsilon)
        return false;

    // Compute areas of sub-triangles formed by point P
    double area1 = area(A, B, P);
    double area2 = area(B, C, P);
    double area3 = area(C, A, P);

    // Check if all sub-triangle areas have the same orientation (same sign)
    return sameSigns(triangleArea, area1, area2, area3, area_epsilon);
}
To get a triangle’s area using the 2D cross product, just take the absolute value of that cross product and cut it in half.double area(glm::dvec2 A, glm::dvec2 B, glm::dvec2 C) {
    glm::dvec2 vec1 = B - A;
    glm::dvec2 vec2 = C - A;
    double crossProductValue = vec1.x * vec2.y - vec1.y * vec2.x;
    return 0.5 * crossProductValue;
}
Now, let’s finally return to where we started – the Triangle!Phew! We took a detour, but now let’s return to the triangle. Consider a triangle defined by three vertices: , , and . Some useful properties we can compute are:Picture a different triangle with the same barycentric coordinates  for a point. They still tell us how it sits relative to the corners.How do barycentric coordinates solve our first question? It’s pretty easy. If all the weights u, v, w are between 0 and 1, the point is inside the triangle.Digression 7. Lines and SegmentsFor example: take . The weights come out as  and . That means  is pulling harder here.Start with the segment vector , and the vector from  to , which is . Think of  as sitting somewhere along the line:Now, use the dot product with  on both sides:Then, the other weight is just .Barycentric Coordinates: TriangleLet’s figure out if point  is inside triangle , but this time, let’s keep it really simple. Imagine you’re at , and you’ve got paths to  and . Any point inside the triangle is like a mix of steps toward  and .So how do we find  and ? Think of it as measuring how much  leans toward each path. We can “ask”  how much it matches  and  using dot products – like checking shadows:This gives us two clues:To find the coordinates, we solve the two equations above, and the results are:Then, the last piece is:Keep in mind that this method, like the previous one, assumes that the point lies in the .bool isPointInTriangle(glm::dvec3 P, glm::dvec3 A, glm::dvec3 B, glm::dvec3 C, double epsilon) {
    // Define vectors along edges
    glm::dvec3 AB = B - A;
    glm::dvec3 AC = C - A;
    glm::dvec3 AP = P - A;

    // Compute the normal of triangle ABC
    glm::dvec3 N = glm::cross(AB, AC);

    // Compute dot products needed for barycentric coordinates
    double dotABAB = glm::dot(AB, AB);
    double dotABAC = glm::dot(AB, AC);
    double dotACAC = glm::dot(AC, AC);
    double dotAPAB = glm::dot(AP, AB);
    double dotAPAC = glm::dot(AP, AC);

    // Compute denominator
    double denom = dotABAB * dotACAC - dotABAC * dotABAC;
    if (std::abs(denom) < epsilon) 
        return false; // Denominator too small, unstable result
    
    double invDenom = 1.0 / denom;

    // Compute barycentric coordinates (v, w, u)
    double v = (dotACAC * dotAPAB - dotABAC * dotAPAC) * invDenom;
    double w = (dotABAB * dotAPAC - dotABAC * dotAPAB) * invDenom;
    double u = 1.0 - v - w;

    // Check if the point lies inside the triangle within epsilon tolerance
    return (u >= -epsilon) && (v >= -epsilon) && (w >= -epsilon);
}

If you still think this is the end, it’s not! There is another method that is often used in more precise engineering applications. Projection onto a 2D PlaneEvery triangle in 3D lies flat on a plane, so we can shrink this problem down to 2D. Pick a plane – like the xy-plane, xz-plane, or yz-plane – and project everything onto it.Here’s the trick: first, find the plane the triangle’s on. Check if the point’s near it, with a little room for error. If it is, we just need to see if it’s inside the triangle. Since the triangle’s flat in 3D, it’s a 2D question at heart. To keep it easy, we drop one coordinate from the triangle and the point, them down.Note that checks have been added for  and whether the point lies on the .Also, note that in the code below, the from the isDegenerate method could have been reused, but I left it as is for better clarity.bool isPointInsideTriangle(glm::dvec3 P, glm::dvec3 A, glm::dvec3 B, glm::dvec3 C, double epsilon, double area_epsilon) {
    // Check if the triangle is degenerate
    if (isDegenerate(A, B, C, area_epsilon))
        return false;  // Triangle is degenerate

    // Compute the normal of triangle ABC
    glm::dvec3 N = glm::cross(B - A, C - A);

    // Create the plane from point A and normal, then check if P lies in it
    Plane plane = createPlane(A, N);
    if (!isOnPlane(plane, P, epsilon))
        return false;  // Point is not in the plane

    // Determine the dominant axis for projection
    glm::dvec3 absN = glm::abs(N);
    uint8_t dominantAxis = (absN.x > absN.y && absN.x > absN.z) ? 0 :
                       (absN.y > absN.z ? 1 : 2);

    // Lambda to drop the dominant axis
    auto drop = [dominantAxis](glm::dvec3 v) -> glm::dvec2 {
        return (dominantAxis == 0) ? glm::dvec2(v.y, v.z) :  // Drop X
               (dominantAxis == 1) ? glm::dvec2(v.x, v.z) :  // Drop Y
                                     glm::dvec2(v.x, v.y);   // Drop Z
    };

    // Project the point onto the plane. Note that we checked it with epsilon before, now we want to lie exactly on the plane 
    glm::dvec3 projectedP = projectPointOntoPlane(P, plane);

    // Test in 2D
    return isPointInsideTriangle(drop(projectedP), drop(A), drop(B), drop(C), epsilon);
}

We drop the coordinate with the largest component in the normal, since it contributes the least to variations across the triangle. The normal shows how the triangle is tilted in space, and its points to the axis the plane is nearly perpendicular to. Removing that axis gives us a reliable 2D projection for checking point inclusion.The final thing is to project our point  onto the plane, which follows the rule . We do this by sliding  along the plane’s normal  until it hits the plane at . That’s written as:, where  is how far we need to move.Since  is on the plane, it fits the equation:.Thus,  is the projection of  onto the plane.glm::dvec3 projectPointOntoPlane(glm::dvec3 P, Plane plane) {
    double lambda = (glm::dot(plane.N, P) + plane.D) / glm::dot(plane.N, plane.N);
    return P - lambda * plane.N;
}
Usually, this is where you’d expect a conclusion for the article – something about which method is better, which one’s worse, and why we picked this over that other one. But since this is just a from a book, there’s no big wrap-up here. Instead, it rolls right into a more advanced, high-level problem down the road. So, for this post, the conclusion isn’t about crowning a winner among the methods. It’s more about how cool it is to break a problem down into tiny bricks and figure it out step by step with some neat math tools. What I really wanted to show here is how you can tackle the same task – checking if a point’s inside a triangle – in totally different ways. We’ve got the , the  trick, and that  move, each with its own strengths and trade-offs. They all get the job done, but they’re like different paths up the same hill. And by now, you’ve probably felt how much you need to know to code this stuff – , , nuances, and a touch of with to keep it all steady. It’s a lot of concepts to juggle! In the end, I hope messing around with this brought you some fun and maybe a little buzz from seeing how math and code can dance together.]]></content:encoded></item><item><title>Database Protocols Are Underwhelming - byroot</title><link>https://byroot.github.io/performance/2025/03/21/database-protocols.html</link><author>/u/Smooth-Zucchini4923</author><category>dev</category><category>reddit</category><pubDate>Sat, 22 Mar 2025 19:11:17 +0000</pubDate><source url="https://www.reddit.com/r/programming/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Programming</source><content:encoded><![CDATA[]]></content:encoded></item><item><title>3 Traits of Good Test Suites</title><link>https://elijahpotter.dev/articles/3_traits_of_good_test_suites</link><author>/u/ChiliPepperHott</author><category>dev</category><category>reddit</category><pubDate>Sat, 22 Mar 2025 19:03:05 +0000</pubDate><source url="https://www.reddit.com/r/programming/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Programming</source><content:encoded><![CDATA[As ev­i­denced by my pre­vi­ous posts on LLM-Assisted Fuzzing, I’ve been ded­i­cat­ing a lot of my men­tal band­width to main­tain­ing a low false-pos­i­tive rate while we im­prove Harper’s rule cov­er­age. Part of that is through fuzzing and dog­food­ing, some can be through sta­tis­tics, but the ﬁrst lines of de­fense will con­tinue to be unit and in­te­gra­tion test­ing. This past week par­tic­u­larly, I’ve been read­ing up on how other big lint­ing pro­grams ap­proach this prob­lem.1. Test Features, Not CodeI of­ten ask my­self: am I spend­ing more time think­ing or talk­ing about the thing, or am I spend­ing more time do­ing the thing? I’ve per­son­ally seen how pro­jects fall into de­cline be­cause their lead­ers are more in­ter­ested in plan­ning than do­ing.In the con­text of soft­ware test­ing, this mantra is trans­formed intotest fea­tures, not code.” To my eye, good code is ﬂex­i­ble and self-ex­plana­tory. Tests that hook deeply into ap­pli­ca­tion or li­brary in­ter­nals make code less ﬂex­i­ble and harder to read.I es­pe­cially like Alex Kladov’s heuris­tic for this: the neural net­work test.Can you re-use the test suite if your en­tire soft­ware is re­placed with an opaque neural net­work?” - Alex KladovIt’s not a ques­tion of whether a neural net­work would pass the test suite, only whether the test suite could work for it. If the an­swer is no, the tests are likely test­ing code, not fea­tures.The speed at which you can build and run tests (unit, sta­tic, in­te­gra­tion, etc.) is a force-mul­ti­plier for every­thing else. You can val­i­date ideas sooner, run  faster, and get con­trib­u­tors on-boarded in less time.Our goal to be fast at run­time dove­tails quite nicely into this, so it’s some­thing Harper al­ready does quite well. Moving for­ward, we need to make sure that we don’t rely on any kind of  in our tests, since that con­tin­ues to be the slow­est part of most Harper in­te­gra­tions.We can sim­plify pro­grams like Harper down into a sin­gle func­tion which con­sumes text and re­turns a list of ob­served prob­lems.(text: ) <Lint>{
    
}
Most test­ing we are in­ter­ested can be done with as­ser­tion func­tions that de­clare what qual­i­ties the out­put should have with a spe­ciﬁc in­put.For ex­am­ple, we have a func­tion called as­sert_­sug­ges­tion_re­sult, which runs a gram­mat­i­cally in­cor­rect string through Harper, ap­plies the ﬁrst re­sult­ing sug­ges­tion and checks whether the edited string matches a given value.() {
    (
        ,
        ThenThan::(),
        ,
    );
}
It’s also vi­tal that these as­ser­tions show good, read­able er­ror mes­sages when they fail. Each time I’ve im­proved their logs, I get un­prompted pos­i­tive feed­back from con­trib­u­tors.Moving for­ward, I’d like to cre­ate a more di­verse ar­ray as­ser­tions like this, as well as bet­ter-doc­u­ment their use. A lot of the cur­rent back-and-forth for rule con­tri­bu­tions is re­lated this.I hope some­one does. Good test suites are some­thing I’m con­tin­u­ing to learn how to build. I un­der­stand that a lot of what I’ve said here does­n’t ap­ply to other kinds of ap­pli­ca­tions or code­bases. If there’s nu­ance I’m not cov­er­ing here, let me know!]]></content:encoded></item><item><title>KEDA, prometheus, scale from 0</title><link>https://www.reddit.com/r/kubernetes/comments/1jhfpvn/keda_prometheus_scale_from_0/</link><author>/u/Scheftza</author><category>dev</category><category>reddit</category><category>k8s</category><pubDate>Sat, 22 Mar 2025 18:54:39 +0000</pubDate><source url="https://www.reddit.com/r/kubernetes/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Kubernetes</source><content:encoded><![CDATA[I have a very simple spring-boot application, now what I want to achieve is to scale the app from 0 based on a prometheus metric, the problem is that when I try to trigger scaling up with an http request it doesn't work as there's no pod running. How can I overcome this?]]></content:encoded></item><item><title>Self-Hosting Go Modules</title><link>https://nicktrevino.com/self-hosting-go-modules.html</link><author>/u/Hyperlisk</author><category>dev</category><category>reddit</category><pubDate>Sat, 22 Mar 2025 18:02:38 +0000</pubDate><source url="https://www.reddit.com/r/programming/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Programming</source><content:encoded><![CDATA[I've always been a proponent of self-hosting. Recently I've been doing more work with Go and wanted to host my own modules. I'm not super fond of hosting my code on GitHub because I feel like I don't totally own anything that I don't have root on. So I decided to look into how Go fetches modules and what it takes to host my own.There are a few reasons why I like to self-host: Like I mentioned, if I don't have root on the box that is hosting my code then I don't feel in control. Touching every part of the stack gives you insights into how everything fits together. I really enjoy building software, so learning new things is always interesting to me.While I've used Go, I haven't had to think too much about how it actually works under-the-hood. Luckily, Go's documentation is very clear about how it fetches modules, if a little dense. Here's the gist of it:: The  path in  can provide a VCS specifier (to point to a repo), or no specifier (to use HTTP).: A  tag pulled from the module path (taken as an HTTP URL) points to a VCS or  can be used to point to a URL that implements the GOPROXY protocol for the module.: If using a VCS, then it is dependent on the VCS. Using  and the GOPROXY protocol only requires a few static files to specify versions and module bundles.Once I realized that all Go needs is a directory structure containing , , , and  files to fetch modules, I realized it was easily doable. This is when the idea of  came to be.A simple static file host is enough to serve Go modules reliably.CONR (ode nly, o epo) is a tool I wrote originally in TypeScript/zx and translated into Go with ChatGPT. The goal: point CONR at your existing Git repositories, and it automatically does the heavy lifting to package them for self-hosting. Here's a quick rundown:: Make sure your Go modules have valid semantic version tags (e.g. ).: go install code.nicktrevino.com/conr/cmd/conr@latest: conr --mod /path/to/myrepo --outDir ./dist --showSkipsYou can pass  multiple times if you have multiple modules you'd like to package up.When done, the  folder will contain a structure that Go's module downloader loves:dist/<module/path>/@v/list
dist/<module/path>/@v/v1.0.0.mod
dist/<module/path>/@v/v1.0.0.zip
dist/<module/path>/@v/v1.0.0.info
dist/<module/path>/@latest
These files map directly to the requests Go makes when you  a module. From here all that is left is to throw them on the internet at  with the proper  tag. For example, I host my modules at  on this subdomain and have my <meta name="go-import" content="code.nicktrevino.com mod https://code.nicktrevino.com/go.mod"> tag on both CONR's home page, and the root of the subdomain. I placed it on both pages because Go will follow and double-check the meta tags.Hosting the Generated FilesSo on to hosting the files. I've mentioned Caddy before, but it has to be one of my favorite pieces of software recently. Caddy makes static file hosting a breeze with its  directive. While I use Cloudflare Tunnel to expose my services, Caddy makes a lot of sense for self-hosting due to automatic TLS handling (if configured). Here's an example  that will serve everything from  which you can dump the output into:{
  admin off
  debug on
}

:443 {
  log

  handle /go.mod/* {
    header Content-Type text/plain
  }

  file_server browse {
    root /www
  }
}
Note that I purposefully add the  parameter to , but you can certainly leave it off if it makes you more comfortable.Once Caddy was running, I tested with fetching another module and  fetched from my domain successfully!Finishing this project felt liberating. I discovered that Go modules are fundamentally a simple set of files served at predictable URLs, and was able to easily follow the Go documentation to build . In the end, combining that with a minimal Caddy setup gave me everything I needed for a robust, self-hosted module repository that I trust.Hopefully I've inspired others to take the self-hosting journey for their own Go modules!]]></content:encoded></item><item><title>California AG Rob Bonta Urgently Issues Consumer Alert for 23andMe Customers</title><link>https://oag.ca.gov/news/press-releases/attorney-general-bonta-urgently-issues-consumer-alert-23andme-customers</link><author>thoughtpeddler</author><category>dev</category><category>hn</category><pubDate>Sat, 22 Mar 2025 17:55:38 +0000</pubDate><source url="https://news.ycombinator.com/">HN Front</source><content:encoded><![CDATA[Californians have the right to direct the company to delete their genetic data — California Attorney General Rob Bonta today issued a consumer alert to customers of 23andMe, a genetic testing and information company. The California-based company has publicly reported that it is in financial distress and stated in securities filings that there is substantial doubt about its ability to continue as a going concern. Due to the trove of sensitive consumer data 23andMe has amassed, Attorney General Bonta reminds Californians of their right to direct the deletion of their genetic data under the Genetic Information Privacy Act (GIPA) and California Consumer Protection Act (CCPA). Californians who want to invoke these rights can do so by going to 23andMe's website. “California has robust privacy laws that allow consumers to take control and request that a company delete their genetic data,” said Attorney General Bonta. “Given 23andMe’s reported financial distress, I remind Californians to consider invoking their rights and directing 23andMe to delete their data and destroy any samples of genetic material held by the company.” To Delete Genetic Data from 23andMe:Consumers can delete their account and personal information by taking the following steps:Log into your 23andMe account on their website. Go to the “Settings” section of your profile.Scroll to a section labeled “23andMe Data” at the bottom of the page. Click “View” next to “23andMe Data”Download your data: If you want a copy of your genetic data for personal storage, choose the option to download it to your device before proceeding.Scroll to the “Delete Data” section. Click “Permanently Delete Data.” Confirm your request: You’ll receive an email from 23andMe; follow the link in the email to confirm your deletion request.To Destroy Your 23andMe Test Sample:If you previously opted to have your saliva sample and DNA stored by 23andMe, but want to change that preference, you can do so from your account settings page, under “Preferences.”To Revoke Permission for Your Genetic Data to be Used for Research:If you previously consented to 23andMe and third-party researchers to use your genetic data and sample for research, you may withdraw consent from the account settings page, under “Research and Product Consents.”Under GIPA, California consumers can delete their account and genetic data and have their biological sample destroyed. In addition, GIPA permits California consumers to revoke consent that they provided a genetic testing company to collect, use, and disclose genetic data and to store biological samples after the initial testing has been completed. The CCPA also vests California consumers with the right to delete personal information, which includes genetic data, from businesses that collect personal information from the consumer.   To learn more about the CCPA, please visit here.  ]]></content:encoded></item><item><title>Map Features in OpenStreetMap with Computer Vision</title><link>https://blog.mozilla.ai/map-features-in-openstreetmap-with-computer-vision/</link><author>Brysonbw</author><category>dev</category><category>hn</category><pubDate>Sat, 22 Mar 2025 17:42:10 +0000</pubDate><source url="https://news.ycombinator.com/">HN Front</source><content:encoded><![CDATA[At Mozilla.ai, we believe that there are a lot of opportunities where artificial intelligence (AI) can empower communities driven by open collaboration. These opportunities need to be designed carefully, though, as many members of these communities (and people in general) are increasingly worried about the amount of  flooding the internet.With this idea in mind we developed and released the  Blueprint. If you love maps and are interested in training your own computer vision model, you’ll enjoy diving into this Blueprint.Data is one of the most important components of any AI application, and  has a vibrant community that collaborates to maintain and extend the most complete open map database available. If you haven’t heard of it,  is an open, editable map of the world created by a community of mappers who contribute and maintain data about roads, trails, cafés, railway stations, and more.Combined with other sources, like satellite imagery, this database offers infinite possibilities to train different AI models.As a long-time user and contributor to  , I wanted to build an end-to-end application where a model is first trained with this data and then used to contribute back.The idea is to use AI to speed up the slower parts of the mapping process (roaming around the map, drawing polygons) while keeping a human in the loop for the critical parts (verifying that the generated data is correct).Large Language Models (LLM) and, more recently, Visual Language Models (VLM) are sucking all the oxygen out of the AI room, but there are a lot of interesting applications that don’t (need to) use this type of models.Many of the  you can find in OpenStreetMap are represented with a polygon ('Area'). It turns out that finding and drawing these polygons is a very time consuming task for a human, but Computer Vision models can be easily trained for the task (when provided with enough data).We chose to split the work of finding and drawing map features into 2 computer vision tasks using state-of-the-art non-LLM models:  with , by Ultralytics, which identifies where relevant features exist in an image.with , by Meta, which refines the detected features by outlining their exact shape.These models are lightweight, fast, and local-friendly – it’s refreshing to work with models that don’t demand a high-end GPU just to function. As an example, the combined weights of YOLOv11 and SAM2 take much less disk space (<250MB) than any of the smallest Visual Language Models available, like (4.5GB).By combining these models, we can automate much of the mapping process while keeping humans in control for final verification.The OpenStreetMap AI Helper BlueprintThe Blueprint can be divided into 3 stages:Stage 1: Create an Object Detection dataset from OpenStreetMapThe first stage involves fetching data from OpenStreetMap, combining it with satellite images, and transforming it into a format suitable for training.For fetching OpenStreetMap data, we use:Once all the polygons have been downloaded, you can choose a . We use this zoom level to first identify all the tiles that contain a polygon and then download them using the  from .The polygons in latitude and longitude coordinates are transformed to a bounding box in pixel coordinates relative to each tile and then saved in the .Stage 2 - Finetune an Object Detection modelOnce the dataset is uploaded in the right format, finetuning a  (or any other model supported by Ultralytics) is quite easy. Stage 3 - Contributing to OpenStreetMapOnce you have a finetuned Object Detection model, you can use it to run inference across multiple tiles. We also provide a hosted demo where you can try our example swimming pool detector: .The inference requires a couple of human interactions. First, you need to first pick a point of interest in the map:After a point is selected, a bounding box is computed around it based on the argument.All the existing elements of interest are downloaded from , and all the tiles are downloaded from  and joined to create a stacked image.The stacked image is divided into overlapping tiles. For each tile, we run the Object Detection model (YOLOv11). If an object of interest is detected (e.g. a swimming pool), we pass the bounding box to the Segmentation model () to obtain a segmentation mask.All the predicted polygons are checked against the existing ones, downloaded from OpenStreetMap, in order to avoid duplicates. All those identified as are displayed one by one for manual verification and filtering.The ones you chose to keep will be then uploaded to OpenStreetMap in a single OpenStreetMap is a powerful example of open collaboration to create a rich, community-driven map of the world. The OpenStreatMap AI Helper Blueprint shows that, with the right approach, AI can enhance human contributions while keeping human verification at the core. In the fully manual process it takes about 1 min to map 2-3 swimming pools, whereas using the blueprint, even without an optimized UX, I can map about 10-15 in the same time (~5x more).It also highlights the value of high-quality data from projects like OpenStreetMap, which enables to easily train models like YOLOv11 to perform object detection – proving that you shouldn’t always throw an LLM at the problem.We’d love for you to try the OpenStreetMap AI Helper Blueprint and experiment with training a model on a different map feature. If you’re interested, feel free to contribute to the repo to help improve it, or fork it to extend it even further!]]></content:encoded></item><item><title>Deep vs Shallow interfaces in Go</title><link>https://tpaschalis.me/shallow-vs-deep-interfaces/</link><author>/u/hyperTrashPanda</author><category>dev</category><category>reddit</category><category>go</category><pubDate>Sat, 22 Mar 2025 17:10:02 +0000</pubDate><source url="https://www.reddit.com/r/golang/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Go</source><content:encoded><![CDATA[One of the core concepts explored in this book is the distinction between
“deep” vs “shallow” modules (in the author’s terms a module is any kind of
abstraction, separated into the user-facing interface and the underlying
implementation).The author argues that “the best modules are those that provide powerful
functionality yet have simple interfaces”. The argument is  about absolute
size, but rather the ratio of utility afforded by the abstraction compared to
the size of the abstraction itself, in other words, a cost/benefit tradeoff.In our case, the main mechanism for composable abstractions in Go is the
 type, so let’s examine the concept through this lens.To me, maybe the best example of a deep interface is .It couldn’t possibly get  smaller than that, right? It’s simple enough
that you won’t ever need to look it up again. Searching the Go standard library, one will find
numerous implementations
including reading from files, from network connections, compressors, ciphers
and more.This abstraction is both easy to understand and use; the docstring tells you
everything you, as a user, need to know. The underlying implementation can be
buffered, may allow reading from streams or remote locations like an S3
bucket. But crucially, consumers of this API don’t need to worry about 
reading happens — implementation can be deep and non-trivial,
but a user doesn’t have to care. Furthermore, it allows for very little
ambiguity when reasoning about what the code does.All these properties are  important for core functionality that’s
used frequently.On the other hand, an example of a shallow interface I’ve used recently is from
the redis-go client.I’ve trimmed it down for the purposes of this post, but you can see it 
here
in its entirety. It contains 45 methods  uses 19 other interfaces as
extensions for a total of ~200 methods.While the functionality provided by Redis is much larger than just ‘reading’,
each of these methods has a much simpler implementation; they do exactly one
thing, and they’re small enough you could possibly replicate them just by their
name and arguments. The ratio of the functionality provided to the size of
the abstraction is very different than before.This also shifts the responsibility of doing the right thing towards the
user, as they have to understand the nuances between individual methods.
In a code review, this makes it harder to reason about what happens at a
glance.So, is this another post criticizing other dev practices? Not really. As
always, things exist on a spectrum and these previous examples show the two
extremes.As a developer, it can often feel more natural to write shallower interfaces.
Similar ‘shallow’ examples (that are not strictly interfaces) are the
aws-sdk-go’s session Options or
Viper’s
public API. Why?It makes methods smaller and easier to testIt maps more closely to the mental map of the system itselfIt takes less time to think up-front about how the user will consume itUsually, it only affords a single implementation, maybe two, so it’s easier
to imagine how it will be usedIn contrast,  offers additional advantages:Can be easily retrofitted to other use casesRequires no state checks to use properlyInterfaces like this tend to remain stable over time, while a shallower version would often grow to accommodate more and more featuresIt allows for natural composability into other abstractions, like a  or a type ReadCloser interface {
	Reader
	Closer
}
This not a  comparison, as you will rarely write such core functionality
as the Reader from scratch, and well, Cmdable is not an abstraction but rather
a driver covering the entirety of Redis operations.But still, does that client API  five different methods for saving and
shutting down? Does a user of the client need to deal with both running
commands and getting meta-information around the DB connection and runtime
metrics at the same time? Is each of the datatypes different enough to have
their own interface? And do I as a reviewer, need to know beforehand whether
the code needs to ,  or ?So, next time you design or review an abstraction, take a closer look.
How “deep” is your API?
In what ways could you mold it into something simpler that hides complexity
from the user and reduces cognitive load?And that’s all for today! If you have any comments, remarks or ideas, feel free
to reach out to me on Bluesky.What are your favorite interfaces? Any specific one that you think touches the
Platonic ideal? Any that disgusts you beyond imagination and makes you wanna
quit, move to the countryside and grow tomatoes? Let me know!]]></content:encoded></item><item><title>ReactOS 0.4.15 released</title><link>https://reactos.org/project-news/reactos-0415-released/</link><author>/u/LAUAR</author><category>dev</category><category>reddit</category><pubDate>Sat, 22 Mar 2025 16:31:54 +0000</pubDate><source url="https://www.reddit.com/r/linux/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Linux</source><content:encoded><![CDATA[We are pleased to announce the release of ReactOS 0.4.15!
This release offers Plug and Play fixes, audio fixes, memory management fixes, registry healing, improvements to accessories and system tools including Notepad, Paint, RAPPS, the Input Method Editor, and shell improvements.We chose to release this version of ReactOS in honor of Eric Kohl’s first commit to the ReactOS code base, which dates back to 1999.
Eric Kohl is the oldest active contributor of the project, and this is his 26th ReactOS anniversary!
He has participated in the project as a developer since its beginnings.This release is a culmination of the work of numerous contributors since 0.4.14 was branched in 2020.
This has been the largest release to date.
There are nearly 8 times more commits going into this release than in 0.4.14.
We are proud of the progress we have made, and are eager to continue with this growth.
Let’s dive in and see what’s new.Victor Perevertkin (Extravert-ir) has accomplished major rewrites to the Plug and Play Manager in the ReactOS kernel.
With these changes, ReactOS now has the ability to run more third party drivers and to boot from USB devices.
This also allows ReactOS to boot on chipsets with EHCI, OHCI, and UHCI controllers.
This work is a stepping stone to ReactOS being truly compatible with vendor drivers for the Windows operating system.Johannes Anderwald (janderwald) solved an issue where the USB driver would enter an infinite loop when a USB device would not enter the ready state.
Fixing this infinite loop allowed ReactOS to boot on more hardware.Thanks to the work of Oleg Dubinskiy, 0.4.15 features many audio improvements.
Oleg added support for more audio formats, looped playback of wave files, higher sample rates, and multiple output channels.
In addition, Victor Perevertkin imported the open source AC’97 driver from the Windows Driver Kit (WDK).
This enables sound out of the box in VirtualBox when the virtual machine is configured to use the ICH AC’97 Audio Controller and various motherboards from 2004 and earlier.Memory Manager and Cache ControllerSection Objects have been refactored by Jérôme Gardou (zefklop) for better compatibility with Windows.
This fixes a long-standing bug preventing executables from starting in remote locations, such as network shares or virtual machine shared folders.Because of improvements in the memory manager and cache controller, we can now import the open source Microsoft FAT filesystem driver from the Windows Driver Kit (WDK).
This FAT filesystem driver is a huge improvement from the old one, which was slower and less stable.
Additionally, external drives with FAT filesystem can now be properly ejected thanks to this new driver.Registry Healing and CachingFundamental mechanisms of the system registry have been implemented courtesy of George Bișoc (GeoB99).
These mechanisms include registry healing, flushing, and caching.
Registry healing and flushing are both designed to improve system stability when faced with an unexpected power outage or a crash.
Healing applies appropriate fixes to a corrupted registry and flushing periodically writes registry changes to the disk, ensuring registry changes persist even if the system is not cleanly shut down.
Caching improves performance when accessing it.George Bișoc also improved the Security Subsystem (Se) of the kernel.
Prior to George’s work, kernel access checks always passed, allowing anyone to access any system object.
Now, kernel access checks are fully functional and prevent unauthorized access to system objects.
As a result, the Windows kernel now works with the vast majority of modules from ReactOS.Katayama Hirofumi MZ (katahiromz) has been hard at work making quality of life improvements, performance enhancements, and new features in system accessories such as the text tool in Paint and the “Now Printing” dialog in Notepad.
Katayama Hirofumi MZ has also improved the Input Method Editor (or IME), which is a component that types characters not originally present on the connected input devices by using a sequence of characters.
His work improved CJK support and allows for the installation of custom IMEs for different locales. For example, Japanese ReactOS can now utilize MZ-IME Japanese input.
Whindmar Saksit (whindsaks) made several bugfixes to improve the stability of RAPPS and Hermès Bélusca-Maïto (HBelusca) implemented a minimal view mode for RAPPS for uninstalling programs.Japanese input with MZ-IME and CJK fontIn 0.4.15 the graphical shell was improved by several contributors.
Carl Bialorucki (cbialorucki) added support for large taskbar icons.
Mark Jansen (learn-more) added native ZIP archive support.
Doug Lyons (DougLyons) made several fixes to address an issue where incorrect icons were displayed in programs such as Microsoft Office 2000, Microsoft Visual Basic 6, and Hoyle Cards.
Katayama Hirofumi MZ added support for the “Internet Browser” icon on the desktop.
In addition, Whindmar Saksit made several bugfixes to improve the stability of Shell32, a critical component of the ReactOS shell.In this release, we also decided to set the default visual style and wallpaper to Mizu.
More visual styles and wallpapers are available in RAPPS.ReactOS is a community of people focused around the Windows ecosystem and free open source software.
It includes various projects to research and document Windows internals, use Windows software in a free enviornment, and make life easier for the broader Windows developer community.0.4.15 was branched 6 months ago.
Since then, many new and exciting features have been worked on in the master branch.
UEFI support, symmetric multiprocessing (SMP), a new graphical installer, a new NTFS filesystem driver, power management, and newer application support are just a few features being worked on.
We are excited to share this journey with you as ReactOS improves and matures.Resolved Jira issues: 1,319Oldest Jira issue resolved: CORE-1091 from 19 December 2005]]></content:encoded></item><item><title>Facebook to stop targeting ads at UK woman after legal fight</title><link>https://www.bbc.co.uk/news/articles/c1en1yjv4dpo</link><author>dijksterhuis</author><category>dev</category><category>hn</category><pubDate>Sat, 22 Mar 2025 16:22:48 +0000</pubDate><source url="https://news.ycombinator.com/">HN Front</source><content:encoded><![CDATA[General Data Protection Regulation (GDPR) legislation controls how personal information is used by organisations.Ms O'Carroll's lawsuit argued that Facebook's targeted advertising system was covered by the UK's definition of direct marketing, giving individuals the right to object.Meta said that adverts on its platform could only be targeted to groups of a minimum size of 100 people, rather than individuals, so did not count as direct marketing. But the Information Commissioner's Office (ICO) disagreed."Organisations must respect people's choices about how their data is used," a spokesperson for the ICO said. "This means giving users a clear way to opt out of their data being used in this way."Ms O'Carroll said that Meta had agreed to stop using her personal data for direct marketing purposes, "which in non-legalese means I've essentially been able to turn off all the creepy, invasive, targeted ads on Facebook".She said that she did not want to stop using Facebook, saying that it is "filled with all of those connections and family and friends, and entire chapters of my life".]]></content:encoded></item><item><title>Rust in 2025: Language interop and the extensible compiler</title><link>https://smallcultfollowing.com/babysteps/blog/2025/03/18/lang-interop-extensibility/</link><author>/u/kibwen</author><category>dev</category><category>reddit</category><category>rust</category><pubDate>Sat, 22 Mar 2025 15:03:04 +0000</pubDate><source url="https://www.reddit.com/r/rust/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Rust</source><content:encoded><![CDATA[For many years, C has effectively been the “lingua franca” of the computing world. It’s pretty hard to combine code from two different programming languages in the same process–unless one of them is C. The same could theoretically be true for Rust, but in practice there are a number of obstacles that make that harder than it needs to be. Building out silky smooth language interop should be a core goal of helping Rust to target foundational applications. I think the right way to do this is not by extending rustc with knowledge of other programming languages but rather by building on Rust’s core premise of being an extensible language. By investing in building out an  we can allow crate authors to create a plethora of ergonomic, efficient bridges between Rust and other languages.We’ll know we’ve succeeded when…When it comes to interop…It is easy to create a Rust crate that can be invoked from other languages and across multiple environments (desktop, Android, iOS, etc). Rust tooling covers the full story from writing the code to publishing your library.It is easy to carve out parts of an existing codebase and replace them with Rust. It is  easy to integrate Rust into C/C++ codebases.When it comes to extensibility…Rust is host to wide variety of extensions ranging from custom lints and diagnostics (“clippy as a regular library”) to integration and interop (ORMs, languages) to static analysis and automated reasoning^[math].In my head, I divide language interop into two core use cases. The first is what I call  (LCD), where people would like to write one piece of code and then use it in a wide variety of environments. This might mean authoring a core SDK that can be invoked from many languages but it also covers writing a codebase that can be used from both Kotlin (Android) and Swift (iOS) or having a single piece of code usable for everything from servers to embedded systems. It might also be creating WebAssembly components for use in browsers or on edge providers.What distinguishes the LCD use-case is two things. First, it is primarily unidirectional—calls mostly go  the other language  Rust. Second, you don’t have to handle all of Rust. You really want to expose an API that is “simple enough” that it can be expressed reasonably idiomatically from many other languages. Examples of libraries supporting this use case today are uniffi and diplomat. This problem is not new, it’s the same basic use case that WebAssembly components are targeting as well as old school things like COM and CORBA (in my view, though, each of those solutions is a bit too narrow for what we need).When you dig in, the requirements for LCD get a bit more complicated. You want to start with simple types, yes, but quickly get people asking for the ability to make the generated wrapper from a given language more idiomatic. And you want to focus on calls  Rust, but you also need to support callbacks. In fact, to really integrate with other systems, you need generic facilities for things like logs, metrics, and I/O that can be mapped in different ways. For example, in a mobile environment, you don’t necessarily want to use tokio to do an outgoing networking request. It is better to use the system libraries since they have special cases to account for the quirks of radio-based communication.To really crack the LCD problem, you also have to solve a few other problems too:It needs to be easy to package up Rust code and upload it into the appropriate package managers for other languages. Think of a tool like maturin, which lets you bundle up Rust binaries as Python packages.For some use cases,  is a very important constraint. Optimizing for size right now is hard to start. What’s worse, your binary has to include code from the standard library, since we can’t expect to find it on the device—and even if we could, we couldn’t be sure it was ABI compatible with the one you built your code with.Needed: the “serde” of language interopObviously, there’s enough here to keep us going for a long time. I think the place to start is building out something akin to the “serde” of language interop: the serde package itself just defines the core trait for serialization and a derive. All of the format-specific details are factored out into other crates defined by a variety of people.I’d like to see a universal set of conventions for defining the “generic API” that your Rust code follows and then a tool that extracts these conventions and hands them off to a backend to do the actual language specific work. It’s not essential, but I think this core dispatching tool should live in the rust-lang org. All the language-specific details, on the other hand, would live in crates.io as crates that can be created by anyone.Lang interop: the “deep interop” use caseThe second use case is what I call the  problem. For this use case, people want to be able to go deep in a particular language. Often this is because their Rust program needs to invoke APIs implemented in that other language, but it can also be that they want to stub out some part of that other program and replace it with Rust. One common example that requires deep interop is embedded developers looking to invoke gnarly C/C++ header files supplied by vendors. Deep interop also arises when you have an older codebase, such as the Rust for Linux project attempting to integrate Rust into their kernel or companies looking to integrate Rust into their existing codebases, most commonly C++ or Java.Some of the existing deep interop crates focus specifically on the use case of invoking APIs from the other language (e.g., bindgen and duchess) but most wind up supporting bidirectional interaction (e.g., pyo3, [npapi-rs][], and neon). One interesting example is cxx, which supports bidirectional Rust-C++ interop, but does so in a rather opinionated way, encouraging you to make use of a subset of C++’s features that can be readily mapped (in this way, it’s a bit of a hybrid of LCD and deep interop).Interop with all languages is important. C and C++ are just more so.I want to see smooth interop with all languages, but C and C++ are particularly important. This is because they have historically been the language of choice for foundational applications, and hence there is a lot of code that we need to integrate with. Integration with C today in Rust is, in my view, “ok” – most of what you need is there, but it’s not as nicely integrated into the compiler or as accessible as it should be. Integration with C++ is a huge problem. I’m happy to see the Foundation’s Rust-C++ Interoperability Initiative as well a projects like Google’s crubit and of course the venerable cxx.The traditional way to enable seamless interop with another language is to “bake it in” i.e., Kotlin has very smooth support for invoking Java code and Swift/Zig can natively build C and C++. I would prefer for Rust to take a different path, one I call . The idea is to enable interop via, effectively, supercharged procedural macros that can integrate with the compiler to supply type information, generate shims and glue code, and generally manage the details of making Rust “play nicely” with another language.In some sense, this is the same thing we do today. All the crates I mentioned above leverage procedural macros and custom derives to do their job. But procedural macrods today are the “simplest thing that could possibly work”: tokens in, tokens out. Considering how simplistic they are, they’ve gotten us remarkably, but they also have distinct limitations. Error messages generated by the compiler are not expressed in terms of the macro input but rather the Rust code that gets generated, which can be really confusing; macros are not able to access type information or communicate information between macro invocations; macros cannot generate code on demand, as it is needed, which means that we spend time compiling code we might not need but also that we cannot integrate with monomorphization. And so forth.I think we should integrate procedural macros more deeply into the compiler. I’d like macros that can inspect types, that can generate code in response to monomorphization, that can influence diagnostics and lints, and maybe even customize things like method dispatch rules. That will allow all people to author crates that provide awesome interop with all those languages, but it will also help people write crates for all kinds of other things. To get a sense for what I’m talking about, check out F#’s type providers and what they can do.The challenge here will be figuring out how to keep the stabilization surface area as small as possible. Whenever possible I would look for ways to have macros communicate by generating ordinary Rust code, perhaps with some small tweaks. Imagine macros that generate things like a “virtual function”, that has an ordinary Rust signature but where the body for a particular instance is constructed by a callback into the procedural macro during monomorphization. And what format should that body take? Ideally, it’d just be Rust code, so as to avoid introducing any new surface area.Not needed: the Rust Evangelism Task ForceSo, it turns out I’m a big fan of Rust. And, I ain’t gonna lie, when I see a prominent project pick some other language, at least in a scenario where Rust would’ve done equally well, it makes me sad. And yet I also know that if  project were written in Rust, that would be . I mean, who would we steal good ideas from?I really like the idea of focusing our attention on making Rust work well with other languages, not on convincing people Rust is better . The easier it is to add Rust to a project, the more people will try it – and if Rust is truly a better fit for them, they’ll use it more and more.This post pitched out a north star wherea single Rust library can be easily used across many languages and environments;Rust code can easily call and be called by functions in other languages;this is all implemented atop a rich procedural macro mechanism that lets plugins inspect type information, generate code on demand, and so forth.How do we get there? I think there’s some concrete next steps:Build out, adopt, or extend an easy system for producing “least common denominator” components that can be embedded in many contexts.Look for ways to extend proc macro capabilities and explore what it would take to invoke them from other phases of the compiler besides just the very beginning.An aside: I also think we should extend rustc to support compiling proc macros to web-assembly and use that by default. That would allow for strong sandboxing and deterministic execution and also easier caching to support faster build times.]]></content:encoded></item><item><title>PyTorch Internals: Ezyang&apos;s Blog</title><link>https://blog.ezyang.com/2019/05/pytorch-internals/</link><author>Anon84</author><category>dev</category><category>hn</category><pubDate>Sat, 22 Mar 2025 14:39:04 +0000</pubDate><source url="https://news.ycombinator.com/">HN Front</source><content:encoded><![CDATA[This post is a long form essay version of a talk about PyTorch internals, that I gave at the PyTorch NYC meetup on May 14, 2019.Hi everyone!  Today I want to talk about the internals of PyTorch.This talk is for those of you who have used PyTorch, and thought to yourself, "It would be great if I could contribute to PyTorch," but were scared by PyTorch's behemoth of a C++ codebase.  I'm not going to lie: the PyTorch codebase can be a bit overwhelming at times. The purpose of this talk is to put a map in your hands: to tell you about the basic conceptual structure of a "tensor library that supports automatic differentiation", and give you some tools and tricks for finding your way around the codebase.  I'm going to assume that you've written some PyTorch before, but haven't necessarily delved deeper into how a machine learning library is written.The talk is in two parts: in the first part, I'm going to first introduce you to the conceptual universe of a tensor library.  I'll start by talking about the tensor data type you know and love, and give a more detailed discussion about what exactly this data type provides, which will lead us to a better understanding of how it is actually implemented under the hood.  If you're an advanced user of PyTorch, you'll be familiar with most of this material.  We'll also talk about the trinity of "extension points", layout, device and dtype, which guide how we think about extensions to the tensor class.  In the live talk at PyTorch NYC, I skipped the slides about autograd, but I'll talk a little bit about them in these notes as well.The second part grapples with the actual nitty gritty details involved with actually coding in PyTorch.  I'll tell you how to cut your way through swaths of autograd code, what code actually matters and what is legacy, and also all of the cool tools that PyTorch gives you for writing kernels.The tensor is the central data structure in PyTorch.  You probably have a pretty good idea about what a tensor intuitively represents: its an n-dimensional data structure containing some sort of scalar type, e.g., floats, ints, et cetera.  We can think of a tensor as consisting of some data, and then some metadata describing the size of the tensor, the type of the elements in contains (dtype), what device the tensor lives on (CPU memory? CUDA memory?)There's also a little piece of metadata you might be less familiar with: the stride.  Strides are actually one of the distinctive features of PyTorch, so it's worth discussing them a little more.A tensor is a mathematical concept.  But to represent it on our computers, we have to define some sort of physical representation for them.  The most common representation is to lay out each element of the tensor contiguously in memory (that's where the term contiguous comes from), writing out each row to memory, as you see above. In the example above, I've specified that the tensor contains 32-bit integers, so you can see that each integer lies in a physical address, each offset four bytes from each other.  To remember what the actual dimensions of the tensor are, we have to also record what the sizes are as extra metadata.So, what do strides have to do with this picture?Suppose that I want to access the element at position  in my logical representation.  How do I translate this logical position into a location in physical memory?  Strides tell me how to do this: to find out where any element for a tensor lives, I multiply each index with the respective stride for that dimension, and sum them all together.  In the picture above, I've color coded the first dimension blue and the second dimension red, so you can follow the index and stride in the stride calculation.  Doing this sum, I get two (zero-indexed), and indeed, the number three lives two below the beginning of the contiguous array.(Later in the talk, I'll talk about TensorAccessor, a convenience class that handles the indexing calculation.  When you use TensorAccessor, rather than raw pointers, this calculation is handled under the covers for you.)Strides are the fundamental basis of how we provide views to PyTorch users.  For example, suppose that I want to extract out a tensor that represents the second row of the tensor above:Using advanced indexing support, I can just write  to get this row.  Here's the important thing: when I do this, I don't create a new tensor; instead, I just return a tensor which is a different view on the underlying data.  This means that if I, for example, edit the data in that view, it will be reflected in the original tensor.  In this case, it's not too hard to see how to do this: three and four live in contiguous memory, and all we need to do is record an offset saying that the data of this (logical) tensor lives two down from the top.  (Every tensor records an offset, but most of the time it's zero, and I'll omit it from my diagrams when that's the case.)Question from the talk: If I take a view on a tensor, how do I free the memory of the underlying tensor?Answer: You have to make a copy of the view, thus disconnecting it from the original physical memory.  There's really not much else you can do.  By the way, if you have written Java in the old days, taking substrings of strings has a similar problem, because by default no copy is made, so the substring retains the (possibly very large string). Apparently, they fixed this in Java 7u6.A more interesting case is if I want to take the first column:When we look at the physical memory, we see that the elements of the column are not contiguous: there's a gap of one element between each one.  Here, strides come to the rescue: instead of specifying a stride of one, we specify a stride of two, saying that between one element and the next, you need to jump two slots.  (By the way, this is why it's called a "stride": if we think of an index as walking across the layout, the stride says how many locations we stride forward every time we take a step.)The stride representation can actually let you represent all sorts of interesting views on tensors; if you want to play around with the possibilities, check out the Stride Visualizer.Let's step back for a moment, and think about how we would actually implement this functionality (after all, this is an internals talk.)  If we can have views on tensor, this means we have to decouple the notion of the tensor (the user-visible concept that you know and love), and the actual physical data that stores the data of the tensor (called storage):There may be multiple tensors which share the same storage.  Storage defines the dtype and physical size of the tensor, while each tensor records the sizes, strides and offset, defining the logical interpretation of the physical memory.One thing to realize is that there is always a pair of Tensor-Storage, even for "simple" cases where you don't really need a storage (e.g., you just allocated a contiguous tensor with ).
By the way, we're interested in making this picture not true; instead of having a separate concept of storage, just define a view to be a tensor that is backed by a base tensor.  This is a little more complicated, but it has the benefit that contiguous tensors get a much more direct representation without the Storage indirection.  A change like this would make PyTorch's internal representation a bit more like Numpy's.We've talked quite a bit about the data layout of tensor (some might say, if you get the data representation right, everything else falls in place).  But it's also worth briefly talking about how operations on the tensor are implemented.  At the very most abstract level, when you call , two dispatches happen:The first dispatch is based on the device type and layout of a tensor: e.g., whether or not it is a CPU tensor or a CUDA tensor (and also, e.g., whether or not it is a strided tensor or a sparse one).  This is a dynamic dispatch: it's a virtual function call (exactly where that virtual function call occurs will be the subject of the second half of this talk).  It should make sense that you need to do a dispatch here: the implementation of CPU matrix multiply is quite different from a CUDA implementation.  It is a  dispatch because these kernels may live in separate libraries (e.g.,  versus ), and so you have no choice: if you want to get into a library that you don't have a direct dependency on, you have to dynamic dispatch your way there.The second dispatch is a dispatch on the dtype in question.  This dispatch is just a simple switch-statement for whatever dtypes a kernel chooses to support.  Upon reflection, it should also make sense that we need to a dispatch here: the CPU code (or CUDA code, as it may) that implements multiplication on  is different from the code for .  It stands to reason you need separate kernels for each dtype.This is probably the most important mental picture to have in your head, if you're trying to understand the way operators in PyTorch are invoked.  We'll return to this picture when it's time to look more at code.Since we have been talking about Tensor, I also want to take a little time to the world of tensor extensions.  After all, there's more to life than dense, CPU float tensors.  There's all sorts of interesting extensions going on, like XLA tensors, or quantized tensors, or MKL-DNN tensors, and one of the things we have to think about, as a tensor library, is how to accommodate these extensions.Our current model for extensions offers four extension points on tensors.  First, there is the trinity three parameters which uniquely determine what a tensor is:The , the description of where the tensor's physical memory is actually stored, e.g., on a CPU, on an NVIDIA GPU (cuda), or perhaps on an AMD GPU (hip) or a TPU (xla).  The distinguishing characteristic of a device is that it has its own allocator, that doesn't work with any other device.The , which describes how we logically interpret this physical memory.  The most common layout is a strided tensor, but sparse tensors have a different layout involving a pair of tensors, one for indices, and one for data; MKL-DNN tensors may have even more exotic layout, like blocked layout, which can't be represented using merely strides.The , which describes what it is that is actually stored in each element of the tensor.  This could be floats or integers, or it could be, for example, quantized integers.If you want to add an extension to PyTorch tensors (by the way, if that's what you want to do, please talk to us!  None of these things can be done out-of-tree at the moment), you should think about which of these parameters you would extend.  The Cartesian product of these parameters define all of the possible tensors you can make.  Now, not all of these combinations may actually have kernels (who's got kernels for sparse, quantized tensors on FPGA?) but in  the combination could make sense, and thus we support expressing it, at the very least.There's one last way you can make an "extension" to Tensor functionality, and that's write a wrapper class around PyTorch tensors that implements your object type.  This perhaps sounds obvious, but sometimes people reach for extending one of the three parameters when they should have just made a wrapper class instead.  One notable merit of wrapper classes is they can be developed entirely out of tree.When should you write a tensor wrapper, versus extending PyTorch itself?  The key test is whether or not you need to pass this tensor along during the autograd backwards pass.  This test, for example, tells us that sparse tensor should be a true tensor extension, and not just a Python object that contains an indices and values tensor: when doing optimization on networks involving embeddings, we want the gradient generated by the embedding to be sparse.Our philosophy on extensions also has an impact of the data layout of tensor itself.  One thing we really want out of our tensor struct is for it to have a fixed layout: we don't want fundamental (and very frequently called) operations like "What's the size of a tensor?" to require virtual dispatches.  So when you look at the actual layout of a Tensor (defined in the TensorImpl struct),  what we see is a common prefix of all fields that we consider all "tensor"-like things to universally have, plus a few fields that are only really applicable for strided tensors, but are  important that we've kept them in the main struct, and then a suffix of custom fields that can be done on a per-Tensor basis.  Sparse tensors, for example, store their indices and values in this suffix.I told you all about tensors, but if that was the only thing PyTorch provided, we'd basically just be a Numpy clone.  The distinguishing characteristic of PyTorch when it was originally released was that it provided automatic differentiation on tensors (these days, we have other cool features like TorchScript; but back then, this was it!)What does automatic differentiation do?  It's the machinery that's responsible for taking a neural network:...and fill in the missing code that actually computes the gradients of your network:Take a moment to study this diagram.  There's a lot to unpack; here's what to look at:First, rest your eyes on the variables in red and blue.  PyTorch implements reverse-mode automatic differentiation, which means that we effectively walk the forward computations "backward" to compute the gradients.  You can see this if you look at the variable names: at the bottom of the red, we compute ; then, the first thing we do in the blue part of the program is compute .   was computed from , so we compute .  Technically, these variables which we call  are not really gradients; they're really Jacobians left-multiplied by a vector, but in PyTorch we just call them  and mostly everyone knows what we mean.If the structure of the code stays the same, the behavior doesn't: each line from forwards is replaced with a different computation, that represents the derivative of the forward operation.  For example, the  operation is translated into a  operation (these two lines are connected via a grey line on the left hand side of the diagram).  The inputs and outputs of the forward and backward operations are swapped: if the forward operation produced , the backward operation takes  as an input.The whole point of autograd is to do the computation that is described by this diagram, but without actually ever generating this source.  PyTorch autograd doesn't do a source-to-source transformation (though PyTorch JIT does know how to do symbolic differentiation).To do this, we need to store more metadata when we carry out operations on tensors.  Let's adjust our picture of the tensor data structure: now instead of just a tensor which points to a storage, we now have a variable which wraps this tensor, and also stores more information (AutogradMeta), which is needed for performing autograd when a user calls  in their PyTorch script.
This is yet another slide which will hopefully be out of date in the near future.  Will Feng is working on a Variable-Tensor merge in C++, following a simple merge which happened to PyTorch's frontend interface.We also have to update our picture about dispatch:Before we dispatch to CPU or CUDA implementations, there is another dispatch on variables, which is responsible for unwrapping variables, calling the underlying implementation (in green), and then rewrapping the results into variables and recording the necessary autograd metadata for backwards.Some implementations don't unwrap; they just call into other variable implementations.  So you might spend a while in the Variable universe.  However, once you unwrap and go into the non-Variable Tensor universe, that's it; you never go back to Variable (except by returning from your function.)In my NY meetup talk, I skipped the following seven slides.  I'm also going to delay writeup for them; you'll have to wait for the sequel for some text.Enough about concepts, let's look at some code.PyTorch has a lot of folders, and there is a very detailed description of what they are in the CONTRIBUTING document, but really, there are only four directories you really need to know about:First,  contains what you are most familiar with: the actual Python modules that you import and use.  This stuff is Python code and easy to hack on (just make a change and see what happens).  However, lurking not too deep below the surface is..., the C++ code that implements what you might call the frontend of PyTorch.  In more descriptive terms, it implements the binding code that translates between the Python and C++ universe, and also some pretty important pieces of PyTorch, like the autograd engine and the JIT compiler.  It also contains the C++ frontend code., short for "A Tensor Library" (coined by Zachary DeVito), is a C++ library that implements the operations of Tensors.  If you're looking for where some kernel code lives, chances are it's in ATen.  ATen itself bifurcates into two neighborhoods of operators: the "native" operators, which are modern, C++ implementations of operators, and the "legacy" operators (TH, THC, THNN, THCUNN), which are legacy, C implementations.  The legacy operators are the bad part of town; try not to spend too much time there if you can., which is a pun on Caffe2 and A"Ten" (get it? Caffe 10) contains the core abstractions of PyTorch, including the actual implementations of the Tensor and Storage data structures.That's a lot of places to look for code; we should probably simplify the directory structure, but that's how it is.  If you're trying to work on operators, you'll spend most of your time in .Let's see how this separation of code breaks down in practice:When you call a function like , what actually happens?  If you remember the discussion we had about dispatching, you already have the basic picture in your head:We have to translate from Python realm to the C++ realm (Python argument parsing)We handle  dispatch (VariableType--Type, by the way, doesn't really have anything to do programming language types, and is just a gadget for doing dispatch.)We handle  dispatch (Type)We have the actual kernel, which is either a modern native function, or a legacy TH function.Each of these steps corresponds concretely to some code.  Let's cut our way through the jungle.Our initial landing point in the C++ code is the C implementation of a Python function, which we've exposed to the Python side as something like .   is the implementation of one such implementation.One important thing to know about this code is that it is auto-generated.  If you search in the GitHub repository, you won't find it, because you have to actually build PyTorch to see it.  Another important thing is, you don't have to really deeply understand what this code is doing; the idea is to skim over it and get a sense for what it is doing.  Above, I've annotated some of the most important bits in blue: you can see that there is a use of a class  to actually pull out C++ objects out of the Python  and ; we then call a  function (which I've inlined in red); this releases the global interpreter lock and then calls a plain old method on the C++ Tensor .  On its way back, we rewrap the returned  back into a .(At this point, there's an error in the slides: I'm supposed to tell you about the Variable dispatch code.  I haven't fixed it here yet.  Some magic happens, then...)When we call the  method on the  class, no virtual dispatch happens yet.  Instead, we have an inline method which calls a virtual method on a "Type" object.  This method is the actual virtual method (this is why I say Type is just a "gadget" that gets you dynamic dispatch.)  In the particular case of this example, this virtual call dispatches to an implementation of add on a class named .  This happens to be because we have an implementation of  that is the same for every device type (both CPU and CUDA); if we had happened to have different implementations, we might have instead landed on something like .  It is this implementation of the virtual method that finally gets us to the actual kernel code.
Hopefully, this slide will be out-of-date very soon too; Roy Li is working on replacing  dispatch with another mechanism which will help us better support PyTorch on mobile.It's worth reemphasizing that all of the code, until we got to the kernel, is automatically generated.It's a bit twisty and turny, so once you have some basic orientation about what's going on, I recommend just jumping straight to the kernels.PyTorch offers a lot of useful tools for prospective kernel writers.  In this section, we'll walk through a few of them.  But first of all, what do you need to write a kernel?We generally think of a kernel in PyTorch consisting of the following parts:First, there's some metadata which we write about the kernel, which powers the code generation and lets you get all the bindings to Python, without having to write a single line of code.Once you've gotten to the kernel, you're past the device type / layout dispatch. The first thing you need to write is error checking, to make sure the input tensors are the correct dimensions.  (Error checking is really important!  Don't skimp on it!)Next, we generally have to allocate the result tensor which we are going to write the output into.Time for the kernel proper.  At this point, you now should do the second, dtype dispatch, to jump into a kernel which is specialized per dtype it operates on.  (You don't want to do this too early, because then you will be uselessly duplicating code that looks the same in any case.)Most performant kernels need some sort of parallelization, so that you can take advantage of multi-CPU systems.  (CUDA kernels are "implicitly" parallelized, since their programming model is built on top of massive parallelization).Finally, you need to access the data and do the computation you wanted to do!In the subsequent slides, we'll walk through some of the tools PyTorch has for helping you implementing these steps.To take advantage of all of the code generation which PyTorch brings, you need to write a  for your operator.  The schema gives a mypy-esque type of your function, and also controls whether or not we generate bindings for methods or functions on Tensor.  You also tell the schema what implementations of your operator should be called for given device-layout combinations.  Check out the README in native is for more information about this format.Error checking can be done by way of either a low level or a high level API.  The low level API is just a macro, , which takes a boolean, and then any number of arguments to make up the error string to render if the boolean is not true.  One nice thing about this macro is that you can intermix strings with non-string data; everything is formatted using their implementation of , and most important data types in PyTorch have  implementations.The high level API saves you from having to write up repetitive error messages over and over again.  The way it works is you first wrap each  into a , which contains information about where the tensor came from (e.g., its argument name).  It then provides a number of pre-canned functions for checking various properties; e.g.,  tests if the tensor's dimensionality is a fixed number.  If it's not, the function provides a user-friendly error message based on the  metadata.One important thing to be aware about when writing operators in PyTorch, is that you are often signing up to write  operators: , which operates on a preallocated output (this implements the  keyword argument), , which operates inplace, and , which is the plain old functional version of an operator.Most of the time,  is the real workhorse, and  and  are just thin wrappers around ; but sometimes writing specialized implementations for each case are warranted.To do dtype dispatch, you should use the  macro.  This takes in the dtype of the tensor you want to dispatch over, and a lambda which will be specialized for each dtype that is dispatchable from the macro.  Usually, this lambda just calls a templated helper function.This macro doesn't just "do dispatch", it also decides what dtypes your kernel will support.  As such, there are actually quite a few versions of this macro, which let you pick different subsets of dtypes to generate specializations for.  Most of the time, you'll just want , but keep an eye out for situations when you might want to dispatch to some more types.  There's guidance in Dispatch.h for how to select the correct one for your use-case.On CPU, you frequently want to parallelize your code.  In the past, this was usually done by directly sprinkling OpenMP pragmas in your code.At some point, we have to actually access the data.  PyTorch offers quite a few options for doing this.If you just want to get a value at some specific location, you should use .  A tensor accessor is like a tensor, but it hard codes the dimensionality and dtype of the tensor as template parameters.  When you retrieve an accessor like , we do a runtime test to make sure that the tensor really is this format; but after that, every access is unchecked.  Tensor accessors handle strides correctly, so you should prefer using them over raw pointer access (which, unfortunately, some legacy kernels do.)  There is also a , which is specifically useful for sending an accessor over a CUDA launch, so that you can get accessors from inside your CUDA kernel.  (One notable gotcha:  defaults to 64-bit indexing, which is much slower than 32-bit indexing in CUDA!)If you're writing some sort of operator with very regular element access, for example, a pointwise operation, you are much better off using a higher level of abstraction, the .   This helper class automatically handles broadcasting and type promotion for you, and is quite handy.For true speed on CPU, you may need to write your kernel using vectorized CPU instructions.  We've got helpers for that too!  The  class represents a vector of scalars and provides a number of methods which perform vectorized operations on them all at once.  Helpers like  then let you easily run vectorized operations, and then finish everything that doesn't round nicely into vector instructions using plain old instructions.  The infrastructure here also manages compiling your kernel multiple times under different instruction sets, and then testing at runtime what instructions your CPU supports, and using the best kernel in those situations.A lot of kernels in PyTorch are still written in the legacy TH style.  (By the way, TH stands for TorcH.  It's a pretty nice acronym, but unfortunately it is a bit poisoned; if you see TH in the name, assume that it's legacy.)  What do I mean by the legacy TH style?It's written in C style, no (or very little) use of C++.It's manually refcounted (with manual calls to  to decrease refcounts when you're done using tensors), andIt lives in  directory, which means that we are actually going to compile the file multiple times, but with different .This code is pretty crazy, and we hate reviewing it, so please don't add to it.  One of the more useful tasks that you can do, if you like to code but don't know too much about kernel writing, is to port some of these TH functions to ATen.To wrap up, I want to talk a little bit about working efficiently on PyTorch.  If the largeness of PyTorch's C++ codebase is the first gatekeeper that stops people from contributing to PyTorch, the efficiency of your workflow is the second gatekeeper.  If you try to work on C++ with Python habits, : it will take forever to recompile PyTorch, and it will take you forever to tell if your changes worked or not.How to work efficiently could probably be a talk in and of itself, but this slide calls out some of the most common anti-patterns I've seen when someone complains: "It's hard to work on PyTorch."If you edit a header, especially one that is included by many source files (and especially if it is included by CUDA files), expect a very long rebuild.  Try to stick to editing cpp files, and edit headers sparingly!Our CI is a very wonderful, zero-setup way to test if your changes worked or not. But expect to wait an hour or two before you get back signal.  If you are working on a change that will require lots of experimentation, spend the time setting up a local development environment.  Similarly, if you run into a hard to debug problem on a specific CI configuration, set it up locally.  You can download and run the Docker images locallyThe CONTRIBUTING guide explains how to setup ccache; this is highly recommended, because sometimes it will help you get lucky and avoid a massive recompile when you edit a header.  It also helps cover up bugs in our build system, when we recompile files when we shouldn't.At the end of the day, we have a lot of C++ code, and you will have a much more pleasant experience if you build on a beefy server with CPUs and RAM.  In particular, I don't recommend doing CUDA builds on a laptop; building CUDA is sloooooow and laptops tend to not have enough juice to turnaround quickly enough.So that's it for a whirlwind tour of PyTorch's internals!  Many, many things have been omitted; but hopefully the descriptions and explanations here can help you get a grip on at least a substantial portion of the codebase.Where should you go from here?  What kinds of contributions can you make?  A good place to start is our issue tracker.  Starting earlier this year, we have been triaging issues; issues labeled  mean that at least one PyTorch developer has looked at it and made an initial assessment about the issue.  You can use these labels to find out what issues we think are high priority or look up issues specific to some module, e.g., autograd or find issues which we think are small (word of warning: we're sometimes wrong!)Even if you don't want to get started with coding right away, there are many other useful activities like improving documentation (I  merging documentation PRs, they are so great), helping us reproduce bug reports from other users, and also just helping us discuss RFCs on the issue tracker. PyTorch would not be where it is today without our open source contributors; we hope you can join us too!]]></content:encoded></item><item><title>Show HN: FastOpenAPI – automated docs for many Python frameworks</title><link>https://github.com/mr-fatalyst/fastopenapi</link><author>mr_Fatalyst</author><category>dev</category><category>hn</category><pubDate>Sat, 22 Mar 2025 14:10:30 +0000</pubDate><source url="https://news.ycombinator.com/">HN Front</source><content:encoded><![CDATA[]]></content:encoded></item><item><title>Landrun: Sandbox any Linux process using Landlock, no root or containers</title><link>https://github.com/Zouuup/landrun</link><author>Zoup</author><category>dev</category><category>hn</category><pubDate>Sat, 22 Mar 2025 13:56:59 +0000</pubDate><source url="https://news.ycombinator.com/">HN Front</source><content:encoded><![CDATA[]]></content:encoded></item><item><title>[Media] Perfect!</title><link>https://www.reddit.com/r/rust/comments/1jh8zmp/media_perfect/</link><author>/u/wpg4665</author><category>dev</category><category>reddit</category><category>rust</category><pubDate>Sat, 22 Mar 2025 13:56:43 +0000</pubDate><source url="https://www.reddit.com/r/rust/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Rust</source><content:encoded><![CDATA[]]></content:encoded></item><item><title>Easy to use SQL library</title><link>https://www.reddit.com/r/golang/comments/1jh8uad/easy_to_use_sql_library/</link><author>/u/pimpaa</author><category>dev</category><category>reddit</category><category>go</category><pubDate>Sat, 22 Mar 2025 13:48:53 +0000</pubDate><source url="https://www.reddit.com/r/golang/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Go</source><content:encoded><![CDATA[Hello everyone, I've been working on something for a couple weeks now and wanted to share!sqlz (naming is hard, I know) is a wrapper around  similar to sqlx. Primary features are:Easy to use: it has a simple API for everyday use that can handle several use cases.Lightweight: performance similar to sqlx and only one dependency (it uses scany under the hood to do the scanning job, which is also well optimized).Support for non-english utf-8 characters in named queries.It has only 3 main methods that can handle different use cases:go Query(ctx context.Context, dst any, query string, args ...any) error QueryRow(ctx context.Context, dst any, query string, args ...any) error Exec(ctx context.Context, query string, args ...any) (sql.Result, error) Both / execute the query and scan the returned rows into the  parameter, it works with default or named placeholders, passing a struct or map as  works as a named query. is similar, passing array/slice as  will be treated as a batch insert.Let me know what y'all think, specially the API, do you think it's better to have a separate method for named queries? Been using it and it feels nice but want some inputs.Obvious question so I'll answer in advance. I've been using sqlx for some time, and while it's miles ahead the stdlib, I feel it's too verbose for simple cases, e.g. can't use 'IN' clause with named queries directly, gotta first use sqlx.Named, handle the error, then sqlx.In, handle the error, then Rebind, then Select.An abstraction on top of sqlx is not fun, so I took the opportunity to learn and created sqlz, which turned out pretty good.Performance-wise, it's close to sqlx, you can see results here (lower delta is better for sqlz).]]></content:encoded></item><item><title>More with pipelines</title><link>https://www.reddit.com/r/golang/comments/1jh8gda/more_with_pipelines/</link><author>/u/kwargs_</author><category>dev</category><category>reddit</category><category>go</category><pubDate>Sat, 22 Mar 2025 13:29:13 +0000</pubDate><source url="https://www.reddit.com/r/golang/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Go</source><content:encoded><![CDATA[Fun update to share about the gliter✨ library. I recently pushed new stage handlers that unlock a variety of new powerful async pipeline patterns. Some of these were ideas you guys had in the comments of my original post (thank you!).Most notable additions are `Merge` and `Option` stages. gliter.NewPipeline(streamFromRedis). Stage( preprocessFeatures, // Normalize, extract relevant fields ). Stage( runFraudModel, // Model inference on transactions checkBusinessRules, // Non-ML heuristic checks ). Merge( aggregateResults, // Combine outputs from ML & rules ). Stage( sendToAlertSystem, // Notify if fraud detected storeInDatabase, // Log for later analysis ). Run() The elevator pitch is: Gliter (Golang iter) enables Go developers to express complex and nuanced async patterns without having to manage races, deadlocks, channel states, and goroutine leaks.Actually just the other day, I encountered a deadlock scenario in some old code at work. If gliter becomes a thing, I can imagine a world where these types of painful bugs are much less common because the surface area of gnarly async code is reduced, centralized, and solved. That's what excites me about the project.Anyway, if you're curious to read more about why I built gliter and what I learned along the way, the original blog post from a few months back is here:Consider using gliter in your next project, I think you'll really enjoy it!]]></content:encoded></item><item><title>Would love to see people share their homelab/projects using k8s along with their diagram and techstack used</title><link>https://www.reddit.com/r/kubernetes/comments/1jh8b4j/would_love_to_see_people_share_their/</link><author>/u/mapoztofu</author><category>dev</category><category>reddit</category><category>k8s</category><pubDate>Sat, 22 Mar 2025 13:21:45 +0000</pubDate><source url="https://www.reddit.com/r/kubernetes/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Kubernetes</source><content:encoded><![CDATA[I am very new to the K8 world(at theory phase right now and using rancher desktop for some hands on)and want to see and learn from folks here what projects they are working on along with their diagram.That would be very interesting and helpful. Thanks   submitted by    /u/mapoztofu ]]></content:encoded></item><item><title>US Programming Jobs Plunge 27.5% in Two Years</title><link>https://developers.slashdot.org/story/25/03/22/1211202/us-programming-jobs-plunge-275-in-two-years?utm_source=rss1.0mainlinkanon&amp;utm_medium=feed</link><author>msmash</author><category>dev</category><category>slashdot</category><pubDate>Sat, 22 Mar 2025 13:00:00 +0000</pubDate><source url="https://developers.slashdot.org/">Dev - Slashdot - Dev</source><content:encoded><![CDATA[Computer programming jobs in the US have declined by more than a quarter over the past two years, placing the profession among the 10 hardest-hit occupations of 420-plus jobs tracked by the Bureau of Labor Statistics and potentially signaling the first concrete evidence of artificial intelligence replacing workers. 

The timing coincides with OpenAI's release of ChatGPT in late 2022. Anthropic researchers found people use AI to perform programming tasks more than those of any other job, though 57 percent of users employ AI to augment rather than automate work. "Without getting hysterical, the unemployment jump for programming really does look at least partly like an early, visible labor market effect of AI," said Mark Muro of the Brookings Institution. 

While software developer positions have remained stable with only a 0.3 percent decline, programmers who perform more routine coding from specifications provided by others have seen their ranks diminish to levels not seen since 1980. Economists caution that high interest rates and post-pandemic tech industry contraction have also contributed to the decline in programming jobs, which typically pay $99,700 compared to $132,270 for developers.]]></content:encoded></item><item><title>Great Introductory course</title><link>https://www.reddit.com/r/kubernetes/comments/1jh78g5/great_introductory_course/</link><author>/u/Far_Dimension_6413</author><category>dev</category><category>reddit</category><category>k8s</category><pubDate>Sat, 22 Mar 2025 12:22:24 +0000</pubDate><source url="https://www.reddit.com/r/kubernetes/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Kubernetes</source><content:encoded><![CDATA[I highly suggest their basic of kubernetes course and it is free, but rancher-desktop is pretty heavy to use on my system, since my system is not that heavy to take a load.]]></content:encoded></item><item><title>My first days with Rust from the perspective of an experienced C++ programmer (continued)</title><link>https://www.reddit.com/r/rust/comments/1jh78e2/my_first_days_with_rust_from_the_perspective_of/</link><author>/u/Rough-Island6775</author><category>dev</category><category>reddit</category><category>rust</category><pubDate>Sat, 22 Mar 2025 12:22:18 +0000</pubDate><source url="https://www.reddit.com/r/rust/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Rust</source><content:encoded><![CDATA[Using AIs with questions such as how do I do this and that in Rust describing things that I know are there makes the transition smooth.What first seemed like elaborate syntax makes perfect sense and probably as good as it can be.I will read the Rust book and the reference to get formally educated but for now AI acts as a tutor answering things that it has seen plenty of times, noob questions.The binary is larger, as expected, primarily (I think) due to the initial data structure is built in a function instead of hard-coded as a global.Somewhat larger binary is expected and acceptable due to the built in safeties of Rust.Without AI the learning curve is a bit steep and for a programming noob is probably off-putting. For an experienced C++ programmer is just: "yeah, that's better" and it keeps giving me a tiny smile every time that happens.I begin to understand the cult like following Rust has because once a learning step in the curve is taken it feels like there is no going back.I have a lot to learn, but for now, for my toy bare-metal application, I feel that this is the way forward.p.s. I was pleasantly surprised by how extensive the core library is and that it works in [no_std] builds.]]></content:encoded></item><item><title>Understanding Faults and Fault Tolerance in Distributed Systems</title><link>https://newsletter.scalablethread.com/p/understanding-faults-and-fault-tolerance</link><author>/u/scalablethread</author><category>dev</category><category>reddit</category><pubDate>Sat, 22 Mar 2025 12:11:32 +0000</pubDate><source url="https://www.reddit.com/r/programming/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Programming</source><content:encoded><![CDATA[Software applications rely on distributed systems for data storage, computation, and real-time processing. These systems spread workloads across multiple nodes (servers, databases, or services) to improve scalability and availability. However, distributed systems face a critical challenge: faults. Their inherent complexity makes them susceptible to various types of failures. Fault tolerance is the ability of a system to continue operating correctly despite faults in some of its components.Example: A server in a cloud cluster loses network connectivity due to a faulty router.Example: A microservice crashes after encountering an unhandled null pointer exception.Example: A developer deploys a buggy update that corrupts a distributed cache.Example: A database replica in Europe becomes unreachable due to an undersea cable cut.sending conflicting or malicious informationWhen faults occur in a distributed system, they can impact the overall system functionality and user experience.replication network partitionsThis involves creating multiple copies of critical data or components across different nodes. If one replica fails, others can take over, ensuring continued availability and data durability.Passive Replication (Standby):This includes having mechanisms to detect when a component has failed.If you enjoyed this article, please hit the ❤️ like button.If you think someone else will benefit from this, then please 🔁 share this post.]]></content:encoded></item><item><title>Will linking a Go program &quot;manually&quot; lose any optimizations?</title><link>https://www.reddit.com/r/golang/comments/1jh6w2o/will_linking_a_go_program_manually_lose_any/</link><author>/u/Forumpy</author><category>dev</category><category>reddit</category><category>go</category><pubDate>Sat, 22 Mar 2025 12:02:02 +0000</pubDate><source url="https://www.reddit.com/r/golang/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Go</source><content:encoded><![CDATA[Generally, if I have a Go program of e.g. 3 packages, and I build it in such a way that each package is individually built in isolation, and then linked manually afterwards, would the resulting binary lose any optimizations that would've been there had the program been built entirely using simply ?]]></content:encoded></item><item><title>Introducing two new open source PebbleOS watches!</title><link>https://ericmigi.com/blog/introducing-two-new-pebbleos-watches</link><author>/u/B3_Kind_R3wind_</author><category>dev</category><category>reddit</category><pubDate>Sat, 22 Mar 2025 11:15:18 +0000</pubDate><source url="https://www.reddit.com/r/linux/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Linux</source><content:encoded><![CDATA[We’re excited to announce two new smartwatches that run open source PebbleOS and are compatible with thousands of your beloved Pebble apps.  has an ultra crisp black and white display, polycarbonate frame, costs $149 and starts shipping in July. has a larger 64-colour display, metal frame, costs $225 and starts shipping in December.Both are available in limited quantities, with worldwide shipping. Prices are in USD. Pre-ordering is the only way to get one - they will not be sold in stores. Pre-order today at store.rePebble.com!Why are we making new Pebble-like smartwatches?Pretty simple - because we want one! No company has made a perfect smartwatch for people like us, so we’re going to make the exact smartwatch we want. Read the full story on my blog, but it comes down to 5 key features:Simple and beautiful designNo smartwatch on the market since Pebble offers this combination of features…until today!I think you might recognize this one 😉 It’s almost exactly a Pebble 2, upgraded with modern chips and new tricks. Duo is short for ‘Do-over’.Similar to Pebble 2, it featuresUltra crisp 1.26” black and white e-paper displayRuns 10,000+ Pebble apps and watchfacesLightweight polycarbonate frame in two colour options - White or BlackWater resistant (targeting IPX8)30 day battery life (up from 7)Linear resonance actuator (quieter and stronger than vibrating motor)More reliable buttons (up to 30% longer lifetime in testing)Barometer and compass sensorsSince this watch will look and feel just like a Pebble 2, you can refamiliarize yourself with it via videos, or reviews. For people interested in hacking on PebbleOS firmware, we’re offering an optional JTAG connector. I recommend buying 2 units if you want to hack, just in case!This is my dream watch. It’s everything Pebble Time 2 was going to be and more! 64-colour 1.5” e-paper display. Same display as Pebble Time 2 - much more room for text and details (53% bigger and 88% more pixels)Runs 10,000+ Pebble apps and watchfacesMetal frame and buttons (Black/White and likely a 3rd colour option as well)30 day battery life (estimate)Flat glass lens (less glare and reflections than Pebble Time family curved lens)Water resistant (targeting IPX8)Linear resonance actuator (vibrator)Standard 22mm watch strapThe industrial design is closely based on Pebble 2, which I really love. It’s slightly bigger to accommodate the larger display. Both the frame and buttons are made of metal (most likely CNC milled aluminum). More details, including final colour options, will be shared later this year. Left: Core 2 Duo - Right: Core Time 26-axis IMU, compass, barometerLinear resonance actuator (vibrator)Heart rate, step and sleep trackingEach watch runs open source PebbleOS. This enables all the baseline Pebble features like receiving notifications, timeline, watchfaces, alarms, timers, calendar, music control, basic fitness tracking, etc. The really fun part is that most of the existing 10,000+ PebbleOS watchfaces and apps will immediately work on these new watches, though some may try to access web services that no longer exist. Browse the full appstore on apps.rebble.io.Existing apps/faces will show up with a border on Core Time 2 until developers update them, since it has a larger display (200x228 vs 144x168 pixels). Read more about on the old Pebble dev blog.We will publish a companion mobile app for Android and iOS. My friend and past Pebble colleague, Steve, recently joined us to lead this effort. He’s joining crc32, long-time Cobble developer, who has been working with me since last summer. We’ll also be working on an updated SDK for creating new PebbleOS watchfaces or apps.These watches will be sold exclusively through store.rePebble.com. Due to limited supply of display inventory, both watches will be manufactured in limited quantities. I highly recommend placing a pre-order - we will be manufacturing fewer watches than the number of people who have signed up on rePebble already! A pre-order secures your watch but gives you flexibility if you change your mind - you can get a refund at any time up until your watch ships. Left: Core 2 Duo running PebbleOS - Right: Engineering samplesSchedule-wise,  is quite far along. We’ve already produced dozens of Core 2 Duo watches for testing and development. We’ve tested and confirmed our button improvements. PebbleOS has been compiled for the new architecture and runs on the watch. All firmware development is open source - you can follow the fun on Github and Discord. Our current schedule calls for shipments to begin in July. How are we so far along, given that PebbleOS was only open-sourced in January? Two things helped: a) I took a monetary risk and began product development a bit earlier 😉, and b) we found a supplier who still had inventory of some Pebble 2 components. Core Time 2 display lighting up! For , we’ve finished component selection, initial industrial and mechanical design, and found sources for long lead time components. Now, we’re in the middle of creating the first prototypes. The grand irony of hardware development is that software development is usually the slowest part of the project. Not this time! We’re extraordinarily thankful to Google for open sourcing PebbleOS, which gave us a massive boost.We’ll share more details (like Core Time 2 frame colour options) later this year, as we get closer to mass production. Our current schedule shows shipments beginning in December. Follow along on this blog, via email, on Bluesky or Twitter.Why were these specific specifications selected?Building a smartwatch is an exhausting (😂) exercise of constraint maximization. Think of it as linear algebra - we’re solving multiple equations with multiple unknown variables. The primary constraint is display selection. This choice governs the size and shape of the physical design, as well as being the component with the most power drain and biggest cost. Other variables are Bluetooth chip (governs: cost, software compatibility, engineering time), factory selection (cost, quality, speed, risk), sensors (power, cost, software), battery (size, battery life, cost) and more!Despite what Pebble’s second Kickstarter branding proclaimed, solving this inherently requires compromise. It’s a fine line to walk and generally the data is not 100% known upfront, so it inevitably requires some degree of trusting your gut. : we’re adding a touchscreen to Core Time 2. Why? Very specifically, I want to add the concept of ‘complications’ to watchfaces and widgets. Like on Apple Watch, these complications/widgets will show glanceable information like weather, next calendar event, step count, etc. The touch screen adds the ability to tap on the complication and directly open the associated app. This is much faster to use than opening an app via the button menu, and saves your quick launch (long-press on the buttons) for other apps. The touchscreen may be used for other interactions, like swiping to rapidly scroll down a list, but that will be lower priority. Core Time 2 will be the first PebbleOS watch to ship with a touchscreen, but not the first that we designed! In 2015, Pebble designed it into a watch called Cutts (or C2) and did some (very) preliminary software development work to integrate a touchscreen into PebbleOS.: I’m really excited that battery life will be increased from 7 days to 1 month! This is due to massive improvements in Bluetooth chip power efficiency over the last 10 years. : we’re adding this primarily for potential use in apps that benefit from audio output, like a ChatGPT or other AI agent app. It can’t easily be used for making voice calls, since the watches will not support Bluetooth Classic (required for headset profiles), but theoretically someone could write a custom voice calling client (eg SIP or something).: neither watch will support smartstraps. Sorry. Most people don’t even remember this feature even existed, which is kinda the answer to why it will not be supported. RIP.You shouldn’t get one if…You need a perfectly polished smartwatch. This project is a labour of love rather than a startup trying to sell millions of watches. There may be some rough edges (literally). Things will get delayed. Some features will not be ready at launch. Things could break. Things could not last as long as you’d like. The only thing we can guarantee is that it will be awesome and a lot of fun! Every time you look down at your watch, you will smile 🙂You’re looking for a fitness or sports watch. That’s not what we’re making. From what we hear, Garmin watches are great for runners/cyclists/triathletes!   You’re comparing this to an Apple Watch. There is NO way for a 3rd party smartwatch to compete with Apple Watch. Apple restricts 3rd parties in major ways - read my blog post for more information. For example, 3rd party watches on iOS cannot send replies to notifications.   These watches are not made for everyone. We want to be upfront with you about what to expect. Watch images above feature impeccably designed watchfaces from TTMM, including one of my all-time favourites - TTMMBRN. Thank you Albert!]]></content:encoded></item><item><title>Firefox: Mozilla is working on Progressive Web Apps (PWA) support</title><link>https://www.ghacks.net/2025/03/17/firefox-mozilla-is-working-on-progressive-web-apps-pwa-support/</link><author>/u/B3_Kind_R3wind_</author><category>dev</category><category>reddit</category><pubDate>Sat, 22 Mar 2025 11:08:28 +0000</pubDate><source url="https://www.reddit.com/r/linux/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Linux</source><content:encoded><![CDATA[]]></content:encoded></item><item><title>How to create a github action to build Go binaries for Linux, Darwin and Windows in all archs?</title><link>https://www.reddit.com/r/golang/comments/1jh4noo/how_to_create_a_github_action_to_build_go/</link><author>/u/DarqOnReddit</author><category>dev</category><category>reddit</category><category>go</category><pubDate>Sat, 22 Mar 2025 09:26:31 +0000</pubDate><source url="https://www.reddit.com/r/golang/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Go</source><content:encoded><![CDATA[I'm not sure if Darwin has other archs than x86_64. But Linux has at least amd64 and arm64 and so does Windows.I never used Github actions and I have this Go repo where I'd like to provide prebuilt binaries for especially Windows users. It's a repo about live streaming and most run obs on Windows at home, so I'd like to make it as painless as possible for them to run my software.I have googled but found nothing useful.If you're using github and have a pure Go repo, how do you configure github actions to build binaries and turn those into downloadable releases?]]></content:encoded></item><item><title>Built a fun chat app on kubernetes (AWS EKS)!</title><link>https://www.reddit.com/r/kubernetes/comments/1jh46ul/built_a_fun_chat_app_on_kubernetes_aws_eks/</link><author>/u/Ammb305</author><category>dev</category><category>reddit</category><category>k8s</category><pubDate>Sat, 22 Mar 2025 08:51:23 +0000</pubDate><source url="https://www.reddit.com/r/kubernetes/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Kubernetes</source><content:encoded><![CDATA[Just finished a fun project: a MERN chat app on EKS, fully automated with Terraform & GitLab CI/CD. Think "chat roulette" but for my sanity. 😅 Terraform (S3 state, obvs) Fancy VPC with all the subnets & gateways. EKS + Helm Charts (rollbacks ftw!) GitLab, baby! (Docker, ECR, deploy!) NLB + AWS LB Controller. Not in this project yet I'm eager to learn from your experiences and insights! Thanks in advance for your feedback :)]]></content:encoded></item><item><title>Ever wanted a “go back” button when debugging JavaScript in Chrome Developer Tools?</title><link>https://youtu.be/ft9zQljooL8</link><author>/u/Physical-Purple-5621</author><category>dev</category><category>reddit</category><pubDate>Sat, 22 Mar 2025 08:44:26 +0000</pubDate><source url="https://www.reddit.com/r/programming/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Programming</source><content:encoded><![CDATA[]]></content:encoded></item><item><title>When you deleted /lib on Linux while still connected via SSH (2022)</title><link>https://tinyhack.com/2022/09/16/when-you-deleted-lib-on-linux-while-still-connected-via-ssh/</link><author>todsacerdoti</author><category>dev</category><category>hn</category><pubDate>Sat, 22 Mar 2025 07:24:05 +0000</pubDate><source url="https://news.ycombinator.com/">HN Front</source><content:encoded><![CDATA[Let’s first not talk about why this can happen, but deleting , , or some other essential runtime files happens quite a lot (as you can see: here, here, here,and here). In this post, I will only discuss what happens when you delete  on Linux and how to recover from that.The easy solution for everything is to replace the missing files, but this can be difficult if  is deleted because we won’t have , which is needed to run any dynamic executable. When you deleted , all non-static executable (such as , , , will output): No such file or directory
You will also be unable to open any new connection using ssh, or open a new tmux window/pane if you are using tmux. So you can only rely on your current shell built in, and some static executables that you have on the system.If you have a static  installed, then it can be your rescue. You can use  from  to download libraries from a clean system.  For your information: Debian has  installed by default, but the default is not the static version.If you are worried that this kind of problem might happen to you in the future: Install the static version of the busybox binary, and confirm that it is the correct version.I assume right now that you don’t have a static busybox, and you don’t even have any static executables (which is the situation in many cases, like in the default install of minimal Debian). My solution for this is to download a static busybox from another machine. I also assume that you have bash installed (which is the default for most systems).  Bash has a lot of default built-ins that we can use.  There is a solution from here that can be used to download a file using only built-in bash functions. Other solutions on this thread rely on external command (such as ).  Please note that you need to set the environment  variable  to ; Otherwise, this script will incorrectly handle Unicode bytes.Of course, we can’t  the destination file to be executable, so we need to overwrite an existing executable. If you have busybox installed (even if it is the non-static version), you can overwrite this file. At this point, you can start the rescue mission: for example, use  to download fresh  from another system.Please note that busybox can’t function with a name that is not a busybox applet name. So if you overwrite for example, the  binary with , then it won’t work (it will say: ).  If you don’t have , I suggest overwriting , then you can use  to create a copy of  as  (which will be executable).If you have a more advanced shell (e.g: zsh), it has TCP modules already built in. You can easily use  from another machine to send a file to the target machine. Now, let’s assume that you have a very basic shell, for example: . Most shell  (including dash), has  as built-in, and we can use this to construct binary files. Most (all?) shell’s built-in   implementation supports  where  is 3 digit octal. First approach is to just convert , but this file is quite big (2 megabyte). Copy-pasting  large  commands is tedious and is error-prone. We need a small static binary that can help us.This  trick will also work for other OS, if you can create a small binary for that OS.Creating a small ELF for LinuxYou can create a very tiny executable if you use assembly directly, but let’s try to do this using C, so it can be portable across different architectures. The smallest useful program that I can think of is just to copy from stdin to stdout, so we can prepare  on a machine:cat busybox | nc -v -l -p 10000and then we can do this from the borked machine:The source code can be like this:#include "unistd.h"

int main()
{
        char x;
        while (1) {
                int c = read(0, &x, 1);
                if (c!=0) break;
                c = write(1, &x, 1);
                if (c!=0) break;
        }
        return 0;
}
If we try to compile this with standard C library (on AMD64 machine), the result is 776KB. gcc -Os -Wl,--build-id=none -fno-asynchronous-unwind-tables -fno-ident -s -nostdlib -nodefaultlibs -static -include nolibc.h fd.c -lgcc -o fdWe get a 4536 bytes binary. Quite good. If we add , we can even get a smaller size. gcc -Os -Wl,--build-id=none -z max-page-size=0x04 -fno-asynchronous-unwind-tables -fno-ident -s -nostdlib -nodefaultlibs -static -include nolibc.h fd.c -lgcc -o fdIt is now 672 bytes. Small enough to transfer. We can convert this using Python.import sys

with open(sys.argv[1], "rb") as f:
    data = f.read()

start = 0
width = 20
targetname = sys.argv[2]
while True:
    part = data[start:start+width]
    if part=='':
        break
    a = ''.join(['\\'+(oct(ord(i)).zfill(3))[-3:] for i in part])
    dest = '>'
    if start>0:
        dest += '>'
    dest += ' ' + targetname
    print("printf '{}' {} ".format(a, dest))
    start += width

We can then copy paste this to our ssh session, then do the  redirection trick.Of course, we can also write a complete program that makes the TCP connection instead of relying on bash redirection.I hope you will never need this knowledgeThis problem occurred to me a few days ago when I updated my Solar Powered Pi Zero, and somehow  got deleted (not sure what caused it). This is not a very important machine, and I could have just reimaged the MicroSD card and be done with it, but I was curious if I could recover from the error. I hope you will never have this error on your production/important machine, but if you have this problem in the future, I hope this post will help you recover from the situation.]]></content:encoded></item><item><title>This Week in Plasma: 6.4 Improvements</title><link>https://blogs.kde.org/2025/03/22/this-week-in-plasma-6.4-improvements/</link><author>/u/gabriel_3</author><category>dev</category><category>reddit</category><pubDate>Sat, 22 Mar 2025 06:41:06 +0000</pubDate><source url="https://www.reddit.com/r/linux/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Linux</source><content:encoded><![CDATA[Welcome to a new issue of "This Week in Plasma"! Every week we cover the highlights of what's happening in the world of KDE Plasma and its associated apps like Discover, System Monitor, and more.This week Plasma 6.4 continued to take shape, with a number of additional user-visible modernizations and improvements — in particular some nice progress on the topics of keyboard navigation, accessibility, and customizing apps' presentation in launcher menus.Added keyboard navigation and interaction to the User Switcher widget's popup. (Marco Martin, link)KMenuEdit has received a UI modernization, including a simplification of the default toolbar contents, showing a well-curated hamburger menu by default, and adopting modern-style tool view tabs. (Oliver Beard, link 1 and link 2)When installing apps in Discover, progress feedback now appears right in the place you were just looking, rather than in the opposite corner of the window. (Nate Graham, link)Plasma's Calculator widget now announces the calculated result using the screen reader, if one is active. (Christoph Wolk, link)Improved keyboard navigation for Plasma's Calculator widget; now navigation wraps around on the same row or column. (Christoph Wolk, link)In System Monitor's table views, you can now press + to select everything, as you would expect. (Arjen Hiemstra, link)After editing a page in System Monitor, the app now scrolls to show a newly-added row if it would otherwise appear out of the visible area. (Arjen Hiemstra, link)KWin's "Dim Screen for Administrator Mode" plugin is now on by default, helping to focus attention on authentication prompts so you're less likely to miss them or lose them, especially with a cluttered desktop full of stuff. (Vlad Zahorodnii, link)OSDs are now consistently referred to as "OSDs" in all the places you can disable them. (Nate Graham, link 1 and link 2)System Monitor now displays something more user-friendly when asked to report the battery charge level of a device whose battery technology it can't determine. (David Redondo, link)Narrowed the range of data that the Plasma clipboard accepts to be more in line with what it did in Plasma 6.2 and earlier. This prevents Plasma form crashing when copying certain types of content in certain apps. (Fushan Wen, link)Triggering the system bell a zillion times in rapid succession (e.g. by holding down  in an XWayland-using GTK app; don't do that) no longer freezes the entire system. (Nicolas Fella, link)Fixed a bug in the Weather Report widget that caused it to fail to save its settings (size, position, even its existence) under certain circumstances when placed on the desktop, rather than a panel. (Marco Martin, link)The User Switcher widget now lays out text for the username more sensibly, neither getting too big with huge horizontal panels, nor overflowing with not-huge vertical panels. (Marco Martin and Nate Graham, link 1 and link 2)Fixed a regression in the new spatial quick tiling code that made global actions to instantly quarter-tile the active window not always work correctly the first time they were invoked. (Vlad Zahorodnii, link)Fixed a regression that broke pasting numbers into Plasma's Calculator widget. (Christoph Wolk, link)Fixed a regression that caused the icons of Folder View popups in list mode to be displayed with too much transparency. (Nate Graham, link)Fixed a bug that caused KMenuEdit to be unable to save changes you made to systemwide-installed Flatpak apps that had previously been customized using the properties dialog. (Oliver Beard, link)Fixed several minor issues affecting the Media Frame widget, including flickering on image change and not remembering customized popup sizes when living in a panel. (Marco Martin, link)Non-full-screen screen recordings taken in Spectacle now have significantly higher visual quality when using a fractional screen scale factor. (Vlad Zahorodnii and Noah Davis, link 1, link 2, link 3, link 4, link 5)KDE has become important in the world, and your time and contributions have helped us get there. As we grow, we need your support to keep KDE sustainable.You can help KDE by becoming an active community member and getting involved somehow. Each contributor makes a huge difference in KDE — you are not a number or a cog in a machine!You don’t have to be a programmer, either. Many other opportunities exist:You can also help us by making a donation! Any monetary contribution — however small — will help us cover operational costs, salaries, travel expenses for contributors, and in general just keep KDE bringing Free Software to the world.Enter your email address to follow this blog and receive notifications of new posts by email.]]></content:encoded></item><item><title>Fastrace: A Modern Approach to Distributed Tracing in Rust</title><link>https://www.reddit.com/r/rust/comments/1jh2fzg/fastrace_a_modern_approach_to_distributed_tracing/</link><author>/u/RealisticBorder8992</author><category>dev</category><category>reddit</category><category>rust</category><pubDate>Sat, 22 Mar 2025 06:39:13 +0000</pubDate><source url="https://www.reddit.com/r/rust/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Rust</source><content:encoded><![CDATA[   submitted by    /u/RealisticBorder8992 ]]></content:encoded></item><item><title>Bootstrapping RKE2</title><link>https://www.reddit.com/r/kubernetes/comments/1jh0xi7/bootstrapping_rke2/</link><author>/u/Due_Leave6941</author><category>dev</category><category>reddit</category><category>k8s</category><pubDate>Sat, 22 Mar 2025 04:56:01 +0000</pubDate><source url="https://www.reddit.com/r/kubernetes/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Kubernetes</source><content:encoded><![CDATA[For people using RKE2 in production. How are you bootstrapping your RKE2 upstream local cluster (where rancher management is installed)? We've been looking into CAPI and Terraform. Also considering Kairos though it seems to working with k3s.]]></content:encoded></item><item><title>GoAvatar – Generate Unique Identicons in Go (Highly Customizable!)</title><link>https://www.reddit.com/r/golang/comments/1jh0ro7/goavatar_generate_unique_identicons_in_go_highly/</link><author>/u/__muhammadsaim</author><category>dev</category><category>reddit</category><category>go</category><pubDate>Sat, 22 Mar 2025 04:45:48 +0000</pubDate><source url="https://www.reddit.com/r/golang/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Go</source><content:encoded><![CDATA[I recently built GoAvatar – a lightweight Go package that generates unique, symmetric identicons based on input strings (like usernames, emails, or any text). It’s perfect for user avatars, profile placeholders, and visual identity generation!Deterministic Identicons – Same input = same avatar every timeSymmetric & Unique Designs – Visually appealing, mirror-like patternsHighly Customizable – Set size, colors, and more!Fast & Lightweight – Minimal dependencies for quick avatar generationimport ( "github.com/MuhammadSaim/goavatar" "image/png" "os" "image/color" )func main() { // Generate the avatar with a custom foreground and background color options := goavatar.Options{ Width: 128, // Set custom image width (default is 256) Height: 128, // Set custom image height (default is 256) BgColor: color.RGBA{170, 120, 10, 255}, // Change background color (default is light gray) FgColor: color.RGBA{255, 255, 255, 255}, // Change foreground color (default is extracted from hash) } avatar := goavatar.Make("EchoFrost7", options)// Generates an avatar with a brownish background and white foreground, saving it as avatar.png file, err := os.Create("avatar.png") if err != nil { panic(err) } defer file.Close() png.Encode(file, avatar) Size: Adjust width and height as neededColors: Set custom foreground and background colorsHashing Algorithm: Modify how identicons are generatedWould love to hear your feedback or ideas for improvements!]]></content:encoded></item><item><title>Scallop – A Language for Neurosymbolic Programming</title><link>https://www.scallop-lang.org/</link><author>andsoitis</author><category>dev</category><category>hn</category><pubDate>Sat, 22 Mar 2025 04:45:08 +0000</pubDate><source url="https://news.ycombinator.com/">HN Front</source><content:encoded><![CDATA[
                  Scallop is a scalable Datalog solver equipped with support for discrete, probabilistic, and
                  differentiable modes of reasoning.
                  These modes are configurable to suit the needs of different AI applications.
                ]]></content:encoded></item><item><title>Why do strings have to be valid UTF-8?</title><link>https://www.reddit.com/r/rust/comments/1jgxh3y/why_do_strings_have_to_be_valid_utf8/</link><author>/u/SaltyMaybe7887</author><category>dev</category><category>reddit</category><category>rust</category><pubDate>Sat, 22 Mar 2025 01:43:19 +0000</pubDate><source url="https://www.reddit.com/r/rust/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Rust</source><content:encoded><![CDATA[fn main() -> Result<(), Box<dyn std::error::Error>> { let mut file = std::fs::File::open("number")?; let mut buf = [0_u8; 128]; let bytes_read = file.read(&mut buf)?;let contents = &buf[..bytes_read]; let contents_str = std::str::from_utf8(contents)?; let number = contents_str.parse::<i128>()?; println!("{}", number); Ok(()) Why is it necessary to convert the slice of bytes to an ? When I run , it will validate that  is valid UTF-8. But to parse this string into an integer, I only care that each byte in the slice is in the ASCII range for digits as it will fail otherwise. It seems like the  adds unnecessary overhead. Is there a way I can avoid having to validate UTF-8 for a string in a situation like this? I probably should have mentioned that the file is a cache file I write to. That means it doesn’t need to be human-readable. I decided to represent the number in little endian. It should probably be more efficient than encoding to / decoding from UTF-8. Here is my updated code to parse the file:fn main() -> Result<(), Box<dyn std::error::Error>> { const NUM_BYTES: usize = 2;let mut file = std::fs::File::open("number")?; let mut buf = [0_u8; NUM_BYTES]; let bytes_read = file.read(&mut buf)?; if bytes_read >= NUM_BYTES { let number = u16::from_le_bytes(buf); println!("{}", number); } Ok(()) If you want to write to the file, you would do something like , so it’s the other way around.]]></content:encoded></item><item><title>Monster Cables picked the wrong guy to threaten (2008)</title><link>https://www.oncontracts.com/monster-cables-picked-the-wrong-guy-to-threaten/</link><author>wallflower</author><category>dev</category><category>hn</category><pubDate>Sat, 22 Mar 2025 00:30:37 +0000</pubDate><source url="https://news.ycombinator.com/">HN Front</source><content:encoded><![CDATA[… Once I have received the above materials and explanations from you, I will undertake to analyze this information and let you know whether we are willing to accede to any of the demands made in your letter. If my analysis shows that there is any reasonable likelihood that we have infringed in any way any of Monster Cable’s intellectual property rights, we will of course take any and all action necessary to resolve the situation.  If I do not hear from you within the next fourteen days, or if I do hear from you but do not receive all of the information requested above, I will assume that you have abandoned these claims and closed your file. As for your requests for information, or for action, directed to me: I would remind you that it is you, not I, who are making claims; and it is you, not I, who must substantiate those claims.  You have not done so. I have seen Monster Cable take untenable IP positions in various different scenarios in the past, and am generally familiar with what seems to be Monster Cable’s modus operandi in these matters.  I therefore think that it is important that, before closing, I make you aware of a few points. After graduating from the University of Pennsylvania Law School in 1985, I spent nineteen years in litigation practice, with a focus upon federal litigation involving large damages and complex issues.  My first seven years were spent primarily on the defense side, where I developed an intense frustration with insurance carriers who would settle meritless claims for nuisance value when the better long-term view would have been to fight against vexatious litigation as a matter of principle. In plaintiffs’ practice, likewise, I was always a strong advocate of standing upon principle and taking cases all the way to judgment, even when substantial offers of settlement were on the table.  I am “uncompromising” in the most literal sense of the word.  If Monster Cable proceeds with litigation against me I will pursue the same merits-driven approach; I do not compromise with bullies and I would rather spend fifty thousand dollars on defense than give you a dollar of unmerited settlement funds. As for signing a licensing agreement for intellectual property which I have not infringed: that will not happen, under any circumstances, whether it makes economic sense or not. I say this because my observation has been that Monster Cable typically operates in a hit-and-run fashion.  Your client threatens litigation, expecting the victim to panic and plead for mercy; and what follows is a quickie negotiation session that ends with payment and a licensing agreement.  Your client then uses this collection of licensing agreements to convince others under similar threat to accede to its demands.  Let me be clear about this: there are only two ways for you to get anything out of me.  You will either need to (1) convince me that I have infringed, or (2) obtain a final judgment to that effect from a court of competent jurisdiction. It may be that my inability to see the pragmatic value of settling frivolous claims is a deep character flaw, and I am sure a few of the insurance carriers for whom I have done work have seen it that way; but it is how I have done business for the last quarter-century and you are not going to change my mind.  If you sue me, the case will go to judgment, and I will hold the court’s attention upon the merits of your claims–or, to speak more precisely, the absence of merit from your claims–from start to finish. Not only am I unintimidated by litigation; I sometimes rather miss it.I can relate to Denke’s final comment quoted above ….  I wonder what the attendant publicity is doing for his sales.]]></content:encoded></item><item><title>Choose Freedom, Not Trialware</title><link>https://news.opensuse.org/2025/03/21/choose-freedom-not-trailware/</link><author>/u/gabriel_3</author><category>dev</category><category>reddit</category><pubDate>Fri, 21 Mar 2025 21:56:14 +0000</pubDate><source url="https://www.reddit.com/r/linux/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Linux</source><content:encoded><![CDATA[A few weeks ago, a customer walked into a Best Buy, which is a well-known retailer in North America that sells computers, appliances and gadgets of all kinds.On a mission to buy a new laptop for a family member, the customer sought something simple, reliable and future-proof. After browsing through the selection, a solid Lenovo laptop stood out; it had good hardware, decent battery life and no unnecessary gimmicks.As the customer approached the checkout and began paying for the new laptop, the salesperson turned and asked an unexpected question:“Would you like to prepay for Windows?”The customer blinked in surprise.“These computers you are displaying don’t include Windows?” the salesperson responded. “Windows comes with a 30-day trial offer.”Without hesitation, the customer responded firmly:“Absolutely not. I’m putting Linux on it.”The salesperson hesitated, as if hearing this statement for the first time.What many people don’t realize is that in certain regions, antitrust laws require manufacturers to sell computers with an option not to preinstall Windows. This is a response to decades of monopolistic practices, where users were forced to pay for a Microsoft license whether they wanted it or not. Some manufacturers have introduced Linux-preinstalled models or “no OS” options, though these remain relatively niche. In regions without such regulations, like the U.S., Windows-free computers are still uncommon outside of specialized retailers and business contracts.Some stores (depending on the country) are legally required to offer a refund for the cost of the Windows license if the customer chooses not to use it. This is, however, rarely advertised. Many people don’t even know they have a choice or that there is a choice for freedom.If you’re in the market for a new computer, don’t let the assumption of Windows dictate your purchase. Here’s how you can take control of your computing experience:Ask for a non-Windows option: Many stores don’t advertise it, but some models are available without a preinstalled OS.: If your country has consumer protection laws, you might be entitled to a refund for the Windows license if you don’t use it.Download and install openSUSE: Head to get.opensuse.org and choose the version that best fits your needs. Leap for long-term stability or Tumbleweed for the latest rolling updates.Enjoy a system without restrictions: No licensing fees, no activation headaches, and no locked-down software.Linux has always been there, unlocked and ready to go.So the next time you walk into a store looking for a new computer, remember; you have a choice. And that choice can be freedom. This is part of a series on Upgrade to Freedom where we offer reasons to transition from Windows to Linux.]]></content:encoded></item><item><title>Davinci Resolved Add ProRes Encode Support on Linux</title><link>https://www.newsshooter.com/2025/03/20/davinci-resolve-19-1-4-update/</link><author>/u/Blackstar1886</author><category>dev</category><category>reddit</category><pubDate>Fri, 21 Mar 2025 21:30:05 +0000</pubDate><source url="https://www.reddit.com/r/linux/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Linux</source><content:encoded><![CDATA[Blackmagic Design has released DaVinci Resolve version 19.1.4. The big news is that it adds Apple ProRes encode support on Windows and Linux. Windows users have been waiting for this for a very long time and it will be welcome news for so many people who have had to do work around for years.It also features additional software for remote monitoring and utilities for setting up hardware control panels, and it installs Blackmagic RAW Player and Proxy Generator into the applications folder.New in DaVinci Resolve 19.1.4Support for Blackmagic RAW SDK 4.5.Apple ProRes encode support on Windows and Linux.Support for Samsung Log LUTs.Addressed network decode performance for large embedded AAFs.Addressed issues with exporting embedded AAFs.Addressed audio stutters when recording interlaced media to tape.Addressed inspector audio track selections for source multicams.Addressed issues decoding some transport stream clips.Support for Photon 4.10.8.Addressed issue with importing large Dolby audio files.Addressed playback delay after import for large Dolby audio files.Addressed issue with default ISO selection for Canon RAW clips.Addressed centre crop issue playing back ARRI RAW clips.General performance and stability improvements.The free version of DaVinci Resolve 19 includes the same high-quality processing as DaVinci Resolve 19 Studio and can handle unlimited-resolution media files. However, it limits project mastering and output to Ultra HD resolutions or lower and only supports a single processing GPU on Windows and Linux.If you need features such as support for multiple GPUs, 4K output, motion blur effects, temporal and spatial noise reduction, multiple AI-based tools, HDR tools, camera tracker, voice isolation, surround sound and immersive audio, multiple Resolve FX, 3D stereoscopic tools and remote rendering, upgrade to DaVinci Resolve 19 Studio. ($295 USD)]]></content:encoded></item><item><title>LoadBalancer and/or Reverse Proxy?</title><link>https://www.reddit.com/r/kubernetes/comments/1jgrswe/loadbalancer_andor_reverse_proxy/</link><author>/u/myridan86</author><category>dev</category><category>reddit</category><category>k8s</category><pubDate>Fri, 21 Mar 2025 21:16:28 +0000</pubDate><source url="https://www.reddit.com/r/kubernetes/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Kubernetes</source><content:encoded><![CDATA[In your opinion, what is the best practice?I know that these are two services with different functions, but they can be used for the same purpose...Today I have a cluster with an application that will be used on the public internet by users.What is better, using the LoadBalancer service with a certificate or using a  to the cluster, with a certificate?]]></content:encoded></item><item><title>What is the standard library for cryptographic operations in RUST.</title><link>https://www.reddit.com/r/rust/comments/1jgqw88/what_is_the_standard_library_for_cryptographic/</link><author>/u/paulex101</author><category>dev</category><category>reddit</category><category>rust</category><pubDate>Fri, 21 Mar 2025 20:37:40 +0000</pubDate><source url="https://www.reddit.com/r/rust/top/?sort=top&amp;t=day&amp;limit=6">Reddit - Rust</source><content:encoded><![CDATA[I've stumbled on quite some libraries but this seem to be the tops: - RingAnd for everyone there's always a warning "Use at your own Risk" i must say i find this funny and bothering at the same time coming from stable ecosystems e.g Java/Kotlin/JS For context: I really just want to generate ECDH Key Pair, compute shared secrets and key derivations. I'm just a few days new to Rust so please be nice!.]]></content:encoded></item><item><title>France rejects backdoor mandate</title><link>https://www.eff.org/deeplinks/2025/03/win-encryption-france-rejects-backdoor-mandate</link><author>hn_acker</author><category>dev</category><category>hn</category><pubDate>Fri, 21 Mar 2025 20:35:11 +0000</pubDate><source url="https://news.ycombinator.com/best">HN</source><content:encoded><![CDATA[]]></content:encoded></item><item><title>Pen and Paper Exercises in Machine Learning (2022)</title><link>https://arxiv.org/abs/2206.13446</link><author>ibobev</author><category>dev</category><category>hn</category><pubDate>Fri, 21 Mar 2025 20:07:12 +0000</pubDate><source url="https://news.ycombinator.com/">HN Front</source><content:encoded><![CDATA[]]></content:encoded></item><item><title>Use Long Options in Scripts</title><link>https://matklad.github.io/2025/03/21/use-long-options-in-scripts.html</link><author>OptionOfT</author><category>dev</category><category>hn</category><pubDate>Fri, 21 Mar 2025 19:57:00 +0000</pubDate><source url="https://news.ycombinator.com/">HN Front</source><content:encoded><![CDATA[]]></content:encoded></item><item><title>Show HN: A terminal emulator in pure PHP</title><link>https://github.com/soloterm/screen</link><author>aarondf</author><category>dev</category><category>hn</category><pubDate>Fri, 21 Mar 2025 17:43:25 +0000</pubDate><source url="https://news.ycombinator.com/shownew">HN Show</source><content:encoded><![CDATA[]]></content:encoded></item><item><title>IronRDP: a Rust implementation of Microsoft&apos;s RDP protocol</title><link>https://github.com/Devolutions/IronRDP</link><author>mikece</author><category>dev</category><category>hn</category><pubDate>Fri, 21 Mar 2025 15:35:27 +0000</pubDate><source url="https://news.ycombinator.com/">HN Front</source><content:encoded><![CDATA[]]></content:encoded></item><item><title>Show HN: Torch Lens Maker – Differentiable Geometric Optics in PyTorch</title><link>https://victorpoughon.github.io/torchlensmaker/</link><author>fouronnes3</author><category>dev</category><category>hn</category><pubDate>Fri, 21 Mar 2025 13:29:11 +0000</pubDate><source url="https://news.ycombinator.com/shownew">HN Show</source><content:encoded><![CDATA[Hello HN! For the past 6 months I've been working on an open source python library that implements differentiable geometric optics in PyTorch. It's very experimental still, but eventually the goal is to use it to design optical systems with a state of the art optimization framework and a beautiful code based API. Think OpenSCAD, but for optical systems.Not only is PyTorch's autograd an amazing general purpose optimizer, but torch.nn (the neural network building blocks) can be used pretty much out of the box to model an optical system. This is because there is a strong analogy to be made between layers of a neural network, and optical elements in a so-called sequential optical system. So the magic is that we can stack lenses as if we were stacking Conv2D and ReLu layers and everything works out. Instead of Conv2D you have ray-surface collision detection, instead of ReLu you have the law of refraction. Designing lenses is surprisingly like training a neural network.You should be able to `pip install torchlensmaker` to try it out, but I just set it up so let me know if there's any trouble.I was part of the Winter 1'24 batch at the Recurse Center (https://www.recurse.com/) working on this project pretty much full time. I'm happy to talk about that experience too!]]></content:encoded></item><item><title>Show HN: My Attempt to Organize the World of AI Dev Tools</title><link>https://aicode.danvoronov.com/tools/</link><author>dan_voronov</author><category>dev</category><category>hn</category><pubDate>Fri, 21 Mar 2025 11:22:44 +0000</pubDate><source url="https://news.ycombinator.com/shownew">HN Show</source><content:encoded><![CDATA[Integrated Development EnvironmentsClosed or unmaintained projects: aide (Feb 25, 2025).AI-Coding Extensions for IDEsClosed or unmaintained projects: rubberduck (Feb 4, 2024).Command Line Interface (CLI) ToolsWeb AI-Powered GeneratorsAI-Enhanced Development ToolsInstead of paying for individual  for every AI service, there are cost-effective and flexible alternatives. One option is to use OpenRouter, which acts as a unified API for various models. This can potentially consolidate costs and simplify integration.In addition to OpenRouter's own  in the programming section, you can always check Chatbot Arena (formerly LMSYS) to see what model is currently performing better with programming or WebDev or Copilot tasks.If you have powerful hardware and prioritize privacy or want more control, you can run large language models (LLMs) locally. Tools like Ollama and LM Studio make it easier to deploy and manage these models on your own machine. For code autocompletion specifically, consider solutions with local-first option like TabbyML.]]></content:encoded></item><item><title>ChatLoopBackOff Episode 51 (WasmEdge)</title><link>https://www.youtube.com/watch?v=Cxz7pC9Lq2k</link><author>CNCF [Cloud Native Computing Foundation]</author><category>dev</category><category>k8s</category><enclosure url="https://www.youtube.com/v/Cxz7pC9Lq2k?version=3" length="" type=""/><pubDate>Fri, 21 Mar 2025 05:09:00 +0000</pubDate><source url="https://www.youtube.com/channel/UCvqbFHwN-nwalWPjPUKpvTA">Dev - CNCF</source><content:encoded><![CDATA[WasmEdge is a CNCF Sandbox project that is a high-performance WebAssembly runtime optimized for cloud-native and edge computing use cases. It’s designed to run WebAssembly (Wasm) applications at the edge and in the cloud, offering a fast, efficient, and secure way to execute containerized applications.

Unlike traditional container runtimes, WasmEdge is designed to work efficiently with cloud-native ecosystems. Join CNCF Ambassador, Faeka Ansari as she explores how WasmEdge allows developers to run Wasm modules with low overhead.]]></content:encoded></item><item><title>The Road Not Taken is Guaranteed Minimum Income</title><link>https://blog.codinghorror.com/the-road-not-taken-is-guaranteed-minimum-income/</link><author>Jeff Atwood</author><category>dev</category><enclosure url="https://blog.codinghorror.com/content/images/2025/03/IMG_7003-1.jpg" length="" type=""/><pubDate>Thu, 20 Mar 2025 23:33:13 +0000</pubDate><source url="https://blog.codinghorror.com/">Dev - Coding Horror</source><content:encoded><![CDATA[What is the American Dream?In 1931, at the height of the Great Depression, James Truslow Adams first defined the American Dream as“[...] a land in which life should be better and richer and fuller for everyone, with opportunity for each according to ability or achievement. [...] not a dream of motor cars and high wages merely, but a dream of social order in which [everyone] shall be able to attain to the fullest stature of which they are innately capable, and be recognized by others for what they are, regardless of the fortuitous circumstances of birth or position”I wanted to know what these words meant to us today. I needed to know what parts of the American Dream we all still had in common. I had to make some sense of what was happening to our country. I’ve been writing on my blog since 2004, and on November 7th, I started writing the most difficult piece I have ever written. I asked so many Americans to tell me what the American Dream personally meant to them, and I wrote it all down.Later in November, I attended a theater performance of The Outsiders at my son’s public high school - an adaptation of the 1967 novel by S.E. Hinton. All I really knew was the famous “stay gold” line from the 1983 movie. But as I sat there in the audience among my neighbors, watching the complete story acted out in front of me by these teenagers, I slowly realized what "stay gold" meant: sharing the American Dream.We cannot merely attain the Dream. The dream is incomplete until we share it with our fellow Americans. That act of sharing is the final realization of everything the dream stands for.Thanks to S.E. Hinton, I finally had a name for my essay, “Stay Gold, America.” I published it on January 7th, with a Pledge to Share the American Dream.I encourage every American to contribute soon, however you can, to organizations you feel are effectively helping those most currently in need.But short term fixes are not enough.The Pledge To Share The American Dream requires a much more ambitious second act – deeper, long term changes that will take decades. Over the next five years, my family pledges half our remaining wealth to plant a seed toward foundational long term efforts ensuring that all Americans continue to have the same fair access to the American Dream.Let me tell you about my own path to the American Dream. It was rocky. My parents were born into deep poverty in Mercer County, West Virginia, and Beaufort County, North Carolina. Our family eventually clawed our way to the bottom of the middle class in Virginia. I won’t dwell on it, but every family has their own problems. We did not remain middle class for long. But through all this, my parents got the most important thing right: they loved me openly and unconditionally. That is everything. It’s the only reason I am standing here in front of you today.With my family’s support, I managed to achieve a solid public education in Chesterfield County, Virginia, and had the incredible privilege of an affordable state education at the University of Virginia. This is a college uniquely rooted in the beliefs of one of the most prominent Founding Fathers, Thomas Jefferson. He was a living paradox. A man of profound ideals and yet flawed – trapped in the values of his time and place. Still, he wrote “Life, liberty, and the pursuit of happiness” at the top of the Declaration of Independence. These words were, and still are, revolutionary. They define our fundamental shared American values, although we have not always lived up to them. The American Dream isn’t about us succeeding, alone, by ourselves, but about connecting with each other and succeeding together as Americans.I’ve been concerned about wealth concentration in America ever since I watched a 2012 video by politizane illustrating just how extreme wealth concentration already was. I had no idea how close we were to the American Gilded Age from the late 1800s. This period was given a name in the 1920s by historians referencing Mark Twain’s 1873 novel, The Gilded Age, A Tale of Today. During this time, labor strikes often turned violent, with the Homestead Strike of 1892 resulting in deadly confrontations between workers and Pinkerton guards hired by factory owners. Rapid industrialization created hazardous working conditions in factories, mines, and railroads, where thousands died due to insufficient safety regulations and employers who prioritized profit over worker welfare.In January 2025, while I was still writing “Stay Gold, America”, we entered the period of greatest wealth concentration in the entirety of American history. As of 2021, the top 1% of households controlled 32% of all wealth, while the bottom 50% only have 2.6%. It's difficult to find more recent data, but wealth concentration has only intensified in the last four years.We can no longer say “Gilded Age”.We must now say “The First Gilded Age”.Today, in our  Gilded Age, more and more people find their path to the American Dream blocked. When Americans face unaffordable education, lack of accessible healthcare, or lack affordable housing, they aren't just disadvantaged – they're trapped, often burdened by massive debt. They have no stable foundation to build their lives. They watch desperately, working as hard as they can, while life simply passes them by, without even the freedom to choose their own lives.They don't have time to build a career. They don't have time to learn, to improve. They don't get to start a business. They can’t choose where their kids will grow up, or whether to have children at all, because they can’t afford to. Here in the land of opportunity, the pursuit of happiness has become an endless task for too many. We are denying people any real chance of achieving the dream that we promised them – that we promised the entire world – when we founded this nation. It is such a profound betrayal of everything we ever dreamed about. Without a stable foundation to build a life on, our fellow Americans cannot even  the American Dream, much less achieve it.I ask you this: as an American, what is the purpose of a dream left unshared with so many for so long? What’s happening to our dream? Are we really willing to let go of our values so easily? We’re Americans. We fight for our values, the values embodied in our dream, the ones we founded this country on. Why aren’t we sharing the American Dream? Why aren’t we giving everyone a fair chance at Life, Liberty, and the Pursuit of Happiness by providing them the fundamentals they need to get there?The Dream worked for me, decades ago, and I deeply believe that the American Dream can still work for everyone – if we ensure every American has the same fair chance we did. The American Dream was never about a few people being extraordinarily wealthy. It’s about everyone having an equal chance to succeed and pursue their dreams – their own happiness. It belongs to them. I think we owe them at least that. I think we owe  at least that.What can we do about this? There are no easy answers. I can’t even pretend to have the answer, because there isn’t any one answer to give. Nothing worth doing is ever that simple. But I can tell you this: all the studies and all the data I’ve looked at have strongly pointed to one foundational thing we can do here in America over the next five years.Natalie Foster, co-founder of the Economic Security Project, makes a powerful case for the idea that, with all this concentrated wealth, we can offer a Guaranteed Minimum Income in the poorest areas of this country – the areas of most need, where money goes the farthest – to unlock vast amounts of untapped American potential. This isn’t a new idea. We’ve been doing this a while now in different forms, but we never called it Guaranteed Minimum Income.In , Thomas Paine proposed a retirement pension funded by estate taxes. It didn’t go anywhere, but it planted a seed. Much later we implemented the Social Security Act in  . The economic chaos of the Great Depression coupled with the inability of private philanthropy to provide economic security inspired Franklin Roosevelt’s New Deal government programs. The most popular and effective program to emerge from this era was Social Security, providing a guaranteed income for retirees. Before Social Security,  of seniors lived in poverty. Today only 10% of seniors live in poverty.In his  book Where Do We Go From Here: Chaos or Community, Martin Luther King Jr made the moral case for a form of UBI, Universal Basic Income. King believed that economic insecurity was at the root of all inequality. He stated that a guaranteed income — direct cash disbursements — was the simplest and best way to fight poverty.In , Congress established the Supplemental Security Income (SSI) program, providing direct cash assistance to low-income elderly, blind, and disabled individuals with little or no income. This cash can be used for food, housing, and medical expenses, the essentials for financial stability. As of January, 2025, over 7.3 million people receive SSI benefits.In 1975, Congress passed the Tax Reduction Act, establishing the Earned Income Tax Credit. This tax credit benefits working-class parents with children, encouraging work by increasing the income of low-income workers. In 2023, it lifted about 6.4 million people out of poverty, including 3.4 million children. According to the Census Bureau, it is the second most effective anti-poverty tool after Social Security.In 2019, directly inspired by King, mayor Michael Tubbs – at age 26, one of the youngest mayors in American history – launched the $3 million Stockton Economic Empowerment Demonstration. It provided 125 residents with $500 per month in unconditional cash payments for two years. The program found that recipients experienced improved financial stability, increased full-time employment, and enhanced well-being.In my “Stay Gold, America” blog post, I referenced the Robert Frost "Stay Gold" poem and S.E. Hinton's famous famous novel The Outsiders, urging us to retain our youthful ideals as we grow older. Ideals embodied in the American Dream.Which brings us to another Robert Frost poem, the Road Not Taken. Our proposal to ensure access to the American Dream is to follow the path less travelled by:  Guaranteed Minimum Income. GMI is a simpler, more practical, more scalable plan to directly address the root of economic insecurity with minimum bureaucracy.We are partnering with GiveDirectly, who oversaw the most GMI studies in the United States, and OpenResearch, who just completed the largest, most detailed GMI study ever conducted in this country in 2023. We are working together to launch a new Guaranteed Minimum Income initiative in rural American communities.Network effects within communities explain why equality of opportunity is so effective, and why a shared American Dream is the most powerful dream of all. The potential of the American Dream becomes vastly greater as more people have access to it, .They share it with their families, their friends, and their neighbors. The groundbreaking, massive 2023 OpenResearch UBI study data showed that when you give money to the poorest among us, they consistently go  to share that money with others in desperate need.The power of opportunity is not in what it can do for one person, but how it connects and strengthens bonds between people. When you empower a couple, you allow them to build a family. When you empower families, you allow them to build a community. When you guarantee fundamentals, you're providing a foundation for those connections to grow and thrive. This is the incredible power and value of community. That is what we are investing in – each other.A system where there are no guarantees creates conflict. It creates inequality. A massive concentration of wealth in so few hands weakens connections between us and prevents new ones. America began as a place of connection. Millions of us came together to build this nation, not individually, but together. Equality is connection, and connection is more valuable than any product any company will ever sell you.You may ask, why focus on rural communities? There are consistently higher poverty rates in rural counties, with fewer job opportunities, lower wages, and worse access to healthcare and education. It’s not a new problem, either — places like Appalachia, the Mississippi Delta, and American Indian reservations have been stuck in poverty for decades, with some counties like Oglala Lakota, SD (55.8%) and McDowell, WV (37.6%) hitting extreme levels. Meanwhile, urban counties rarely see numbers that high. The data from the US Census and USDA Economic Research Service make it clear: if you’re poor in America, being rural makes it even harder to escape.Rural areas offer smaller populations, which is helpful because we need to start small with lots of tightly controlled studies that we can carefully scale and improve on for larger areas. We hope to build a large body of scientific data showing that GMI really does improve the lives, and the communities, of our fellow Americans.The initial plan is to target a few counties that I have a personal connection to, and are still currently in poverty, decades later:My father was born in Mercer County, West Virginia, where the collapse of coal mining left good people struggling to survive. Their living and their way of life is now all but gone, and good jobs are hard to find.My mother’s birthplace, Beaufort County, North Carolina, has been hit just as hard, with farming and factory jobs disappearing and families left wondering what’s next.Our third county is yet to be decided, but will be a community also facing the same systemic, generational obstacles to economic stability and achieving the American Dream.We will work with existing local groups to coordinate GMI studies where community members choose to enroll. We will conduct outreach and and provide mentorship to these opt-in study participants. It will be teamwork between Americans.We hope Veterans will play a crucial role in our effort. We plan to work with local communities and veteran-serving organizations to engage veterans to support and execute our GMI programs – the same veterans who served our country with distinction, returning home with exceptional leadership skills and a deep commitment to their communities. Their involvement ensures these programs reflect core American values of self-reliance and community service to fellow Americans. We'll also partner with established community organizations — churches, civic groups, community colleges, local businesses. These partnerships help integrate our GMI studies with existing support systems, rather than creating new ones.GiveDirectly and OpenResearch will build on their existing body of work, gathering extensive data from these refined studies. We'll measure employment, entrepreneurship, education, health, and community engagement. We'll conduct regular interviews with participants to understand their experience. How is this working for you? How can we make it better? You tell us. How can we make it better together?Economic security isn't only about individual well-being – it's the bedrock of democracy. When people aren't constantly worried about feeding themselves, feeding their family, having decent healthcare, having a place to live… we have given them room to breathe. We have given them freedom. The freedom to raise their children, the freedom to start businesses, the freedom to choose where they work, the freedom to volunteer... the freedom to .This isn’t about ideology or government. It’s about us, as Americans, working together to invest in our future – possibly the greatest unlocking of human potential in our entire history. I do not say these things lightly. I’ve seen it work. I’ve looked at all the existing study data. A little bit of money is incredibly transformational for people in poverty – the people who need it the most – the people who cannot live up to their potential because they’re so busy simply trying to survive. Imagine what they could do if we gave them just a little breathing room.GMI is a long term investment in the future of what America should be, the way we wrote it down in the Declaration of Independence, perhaps incompletely – but our democracy was always meant to be malleable, to change, to adapt, and improve.I’d like to conclude by mentioning Aaron Swartz. He was a precocious teenage programmer much like myself. Aaron helped develop RSS web feeds, co-founded Reddit, and worked with Creative Commons to create flexible copyright licenses for the common good. He used technology to make information universally accessible to everyone.Aaron created a system to download public domain court documents from PACER, a government database that charged fees for accessing what he believed should be freely available public information. A few years later, while visiting MIT under their open campus policy and as a research fellow at Harvard, he used MIT's network to download millions of academic articles from JSTOR, another fee-charging online academic journal repository, intending to make this knowledge freely accessible. Since taxpayers had funded much of this research, why shouldn’t that knowledge be freely available to everyone?What Aaron saw as an act of academic freedom and information equality, authorities viewed as a crime—he was arrested in January 2011 and charged with multiple felonies for what many considered to be nothing more than accessing knowledge that should have been freely available to the public in the first place.Despite JSTOR declining to pursue charges and MIT eventually calling for leniency, federal prosecutors aggressively pursued felony charges against Aaron with up to 35 years in prison. Facing overwhelming legal pressure and the prospect of being labeled a felon, Aaron took his own life at 26. This sparked widespread criticism of prosecutorial overreach and prompted discussions about open access to information. Deservedly so. Eight days later, in this very hall, there was a standing room only memorial service praising Aaron for his commitment to the public good.Aaron pursued what was right for we, the people. He chose to build the public good despite knowing there would be risks. He chose to be an activist. I think we should all choose to be activists, to be brave, to stand up for our defining American principles. There are two things I ask of you today.Visit https://www.givedirectly.org/rural-us where we'll be documenting our journey and findings from the initial three GMI rural county studies. Let’s find out together how guaranteed minimum income can transform American lives.Talk about Guaranteed Minimum Income in your communities. Meet with your state and local officials. Share the existing study data. Share outcomes. Ask them about conducting GMI studies like ours in your area. We tell ourselves stories about why some people succeed and others don't. Challenge those stories. Economic security is not . It is an  in vast untapped American potential in the poorest areas of this country.My family is committing 50 million dollars to this endeavor, but imagine if we had even more to share. Imagine how much more we could do, if we build this together, starting today. Decades from now, people will look back and wonder why it took us so long to share our dream of a better, richer, and fuller life with our fellow Americans.I hope you join us on this grand experiment to share our American Dream. I believe everyone deserves a fair chance at what was promised when we founded this nation: Life, Liberty, and the pursuit of The American Dream. – Where Do We Go From Here: Chaos or Community? (1967)Mark Twain & Charles Dudley Warner – The Gilded Age: A Tale of Today (1873) – Utopia for Realists: How We Can Build the Ideal World (2014) – Give People Money: How a Universal Basic Income Would End Poverty, Revolutionize Work, and Remake the World (2018) – The War on Normal People: The Truth About America’s Disappearing Jobs and Why Universal Basic Income Is Our Future (2018) – Basic Income: And How We Can Make It Happen (2017) – Not Enough: Human Rights in an Unequal World (2018)Wealth Inequality and Labor History – The Price of Inequality: How Today's Divided Society Endangers Our Future (2012) –  (2023) – Nickel and Dimed: On (Not) Getting By in America (2001) – Capital in the Twenty-First Century (2013) – The Divide: A Brief Guide to Global Inequality and Its Solutions (2017) – The Guarantee: Inside the Fight for America's Next Economy (2024) – The Deeper the Roots: A Memoir of Hope and Home (2021)]]></content:encoded></item></channel></rss>